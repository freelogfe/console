webpackJsonp([10],{K2bu:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a});var i=function(){var n=this,e=n.$createElement,i=n._self._c||e;return i("section",{staticClass:"pb-list-container"},[i("header",{staticClass:"nav-title"},[n._v("节点样式")]),n._v(" "),i("ul",{staticClass:"pb-list"},[n._l(n.pagebuildList,function(t){return i("li",{staticClass:"pb-item",class:{selected:t.index===n.currentIndex}},[i("div",{staticClass:"pb-item-wrap"},[i("div",{staticClass:"pb-thumbnail-wrap",on:{click:function(e){n.gotoResourceDetailHandler(t)}}},[i("img",{attrs:{src:t.resourceDetail._previewImage,alt:""}})]),n._v(" "),i("div",{staticClass:"pb-item-content"},[i("h4",{staticClass:"pb-title"},[n._v(n._s(t.presentableName))]),n._v(" "),i("div",{staticClass:"pb-desc"},[i("i",{staticClass:"el-icon-circle-check-outline pb-select-btn",on:{click:function(e){n.changePageBuildHandler(t)}}}),n._v(" "),i("p",{domProps:{innerHTML:n._s(t.resourceDetail.intro)},on:{click:function(e){n.gotoResourceDetailHandler(t)}}})])])])])}),n._v(" "),i("li",{staticClass:"pb-item"},[i("div",{staticClass:"add-pb-area",on:{click:n.addNewPageBuildHandler}},[i("i",{staticClass:"el-icon-plus"})])])],2)])},a=[]},S9SA:function(e,t,n){(e.exports=n("FZ+f")(!0)).push([e.i,'.pb-list-container[data-v-00e8bb12]{color:#333;padding:50px 25px}.pb-list-container .nav-title[data-v-00e8bb12]{font-size:18px;margin-bottom:30px;font-weight:600}.pb-list-container .pb-list[data-v-00e8bb12]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;padding:0 40px}.pb-list-container .pb-list .pb-item[data-v-00e8bb12]{-ms-flex-preferred-size:50%;flex-basis:50%;padding:20px;-webkit-box-sizing:border-box;box-sizing:border-box;position:relative}.pb-list-container .pb-list .pb-item.selected .pb-desc .el-icon-circle-check-outline[data-v-00e8bb12]{color:#9bcb39}.pb-list-container .pb-list .pb-item.selected .pb-item-wrap[data-v-00e8bb12]{border:5px solid #9bcb39;border-radius:4px}.pb-list-container .pb-list .pb-item-wrap[data-v-00e8bb12]{border:1px solid #eee;border-radius:3px;background-color:#fff;cursor:pointer;-webkit-transition:all .3s;transition:all .3s}.pb-list-container .pb-list .add-pb-area[data-v-00e8bb12]{border:1px solid #eee;border-radius:3px;cursor:pointer;width:100%;height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.pb-list-container .pb-list .add-pb-area i[data-v-00e8bb12]{color:#999;font-size:60px}.pb-list-container .pb-list .pb-thumbnail-wrap[data-v-00e8bb12]{width:100%;position:relative;cursor:pointer}.pb-list-container .pb-list .pb-thumbnail-wrap[data-v-00e8bb12]:after{content:" ";display:inline-block;padding-top:66.67%}.pb-list-container .pb-list .pb-thumbnail-wrap img[data-v-00e8bb12]{position:absolute;top:0;left:0;width:100%;height:100%}.pb-list-container .pb-list .pb-item-content[data-v-00e8bb12]{padding:14px 23px;border-top:1px solid #ccc}.pb-list-container .pb-list .pb-item-content .pb-title[data-v-00e8bb12]{font-size:13px;margin-bottom:12px}.pb-list-container .pb-list .pb-desc[data-v-00e8bb12]{height:40px}.pb-list-container .pb-list .pb-desc p[data-v-00e8bb12]{-webkit-line-clamp:2;overflow:hidden;text-overflow:ellipsis;word-break:break-all;display:-webkit-box;-webkit-box-orient:vertical}.pb-list-container .pb-list .pb-desc .pb-select-btn[data-v-00e8bb12]:hover{color:#9e9e9e}.pb-list-container .pb-list .pb-desc .el-icon-circle-check-outline[data-v-00e8bb12]{float:right;font-size:40px;color:#eee;padding-left:30px}',"",{version:3,sources:["/Users/daizecheng/workplace/freelog/console.freelog.com/client/src/views/node/page-build/list/index.vue"],names:[],mappings:"AACA,oCACE,WAAe,AACf,iBAAmB,CACpB,AACD,+CACE,eAAgB,AAChB,mBAAoB,AACpB,eAAiB,CAClB,AACD,6CACE,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,mBAAoB,AAChB,eAAgB,AACpB,cAAgB,CACjB,AACD,sDACE,4BAA6B,AACzB,eAAgB,AACpB,aAAc,AACd,8BAA+B,AACvB,sBAAuB,AAC/B,iBAAmB,CACpB,AACD,sGACE,aAAe,CAChB,AACD,6EACE,yBAA0B,AAC1B,iBAAmB,CACpB,AACD,2DACE,sBAA0B,AAC1B,kBAAmB,AACnB,sBAA0B,AAC1B,eAAgB,AAChB,2BAA4B,AAC5B,kBAAoB,CACrB,AACD,0DACE,sBAA0B,AAC1B,kBAAmB,AACnB,eAAgB,AAChB,WAAY,AACZ,YAAa,AACb,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,yBAA0B,AACtB,sBAAuB,AACnB,mBAAoB,AAC5B,wBAAyB,AACrB,qBAAsB,AAClB,sBAAwB,CACjC,AACD,4DACE,WAAe,AACf,cAAgB,CACjB,AACD,gEACE,WAAY,AACZ,kBAAmB,AACnB,cAAgB,CACjB,AACD,sEACE,YAAa,AACb,qBAAsB,AACtB,kBAAoB,CACrB,AACD,oEACE,kBAAmB,AACnB,MAAO,AACP,OAAQ,AACR,WAAY,AACZ,WAAa,CACd,AACD,8DACE,kBAAmB,AACnB,yBAA8B,CAC/B,AACD,wEACE,eAAgB,AAChB,kBAAoB,CACrB,AACD,sDACE,WAAa,CACd,AACD,wDACE,qBAAsB,AACtB,gBAAiB,AACjB,uBAAwB,AACxB,qBAAsB,AACtB,oBAAqB,AACrB,2BAA6B,CAC9B,AACD,2EACE,aAAe,CAChB,AACD,oFACE,YAAa,AACb,eAAgB,AAChB,WAAe,AACf,iBAAmB,CACpB",file:"index.vue",sourcesContent:["\n.pb-list-container[data-v-00e8bb12] {\n  color: #333333;\n  padding: 50px 25px;\n}\n.pb-list-container .nav-title[data-v-00e8bb12] {\n  font-size: 18px;\n  margin-bottom: 30px;\n  font-weight: 600;\n}\n.pb-list-container .pb-list[data-v-00e8bb12] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n  padding: 0 40px;\n}\n.pb-list-container .pb-list .pb-item[data-v-00e8bb12] {\n  -ms-flex-preferred-size: 50%;\n      flex-basis: 50%;\n  padding: 20px;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  position: relative;\n}\n.pb-list-container .pb-list .pb-item.selected .pb-desc .el-icon-circle-check-outline[data-v-00e8bb12] {\n  color: #9BCB39;\n}\n.pb-list-container .pb-list .pb-item.selected .pb-item-wrap[data-v-00e8bb12] {\n  border: 5px solid #9BCB39;\n  border-radius: 4px;\n}\n.pb-list-container .pb-list .pb-item-wrap[data-v-00e8bb12] {\n  border: 1px solid #eeeeee;\n  border-radius: 3px;\n  background-color: #FFFFFF;\n  cursor: pointer;\n  -webkit-transition: all .3s;\n  transition: all .3s;\n}\n.pb-list-container .pb-list .add-pb-area[data-v-00e8bb12] {\n  border: 1px solid #eeeeee;\n  border-radius: 3px;\n  cursor: pointer;\n  width: 100%;\n  height: 100%;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n.pb-list-container .pb-list .add-pb-area i[data-v-00e8bb12] {\n  color: #999999;\n  font-size: 60px;\n}\n.pb-list-container .pb-list .pb-thumbnail-wrap[data-v-00e8bb12] {\n  width: 100%;\n  position: relative;\n  cursor: pointer;\n}\n.pb-list-container .pb-list .pb-thumbnail-wrap[data-v-00e8bb12]:after {\n  content: ' ';\n  display: inline-block;\n  padding-top: 66.67%;\n}\n.pb-list-container .pb-list .pb-thumbnail-wrap img[data-v-00e8bb12] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n.pb-list-container .pb-list .pb-item-content[data-v-00e8bb12] {\n  padding: 14px 23px;\n  border-top: 1px solid #CCCCCC;\n}\n.pb-list-container .pb-list .pb-item-content .pb-title[data-v-00e8bb12] {\n  font-size: 13px;\n  margin-bottom: 12px;\n}\n.pb-list-container .pb-list .pb-desc[data-v-00e8bb12] {\n  height: 40px;\n}\n.pb-list-container .pb-list .pb-desc p[data-v-00e8bb12] {\n  -webkit-line-clamp: 2;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  word-break: break-all;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n}\n.pb-list-container .pb-list .pb-desc .pb-select-btn[data-v-00e8bb12]:hover {\n  color: #9e9e9e;\n}\n.pb-list-container .pb-list .pb-desc .el-icon-circle-check-outline[data-v-00e8bb12] {\n  float: right;\n  font-size: 40px;\n  color: #EEEEEE;\n  padding-left: 30px;\n}\n"],sourceRoot:""}])},WJxV:function(e,t,n){"use strict";var i=n("jWBi");t.a=i.a},ipT3:function(e,t,n){var i=n("S9SA");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);n("rjj0")("6bfe129a",i,!0,{})},jWBi:function(e,t,n){"use strict";var i=n("//Fk"),a=n.n(i),r=n("x9Cp"),s={show:1,hide:2};t.a={name:"node-page-build-list",data:function(){return{pagebuildList:[],PAGE_BUILD_STATUS:s,currentIndex:1}},mounted:function(){var t=this;this.loader().then(this.format.bind(this)).then(function(e){t.pagebuildList=e,console.log(t.pagebuildList)})},methods:{loader:function(){var e={nodeId:this.$route.params.nodeId};return this.$services.pagebuild.get({params:e}).then(function(e){var t=e.getData(),n=[];return t.forEach(function(t){var e=r.a.onloadResourceDetail(t.resourceId).then(function(e){return t.resourceDetail=e,t.resourceDetail.previewImages.length&&(t.resourceDetail._previewImage=t.resourceDetail.previewImages[0]),e});n.push(e)}),a.a.all(n).then(function(e){return t})})},format:function(e){var n=this;return e.forEach(function(e,t){e.index=t,e.status===s.show&&(n.currentIndex=t),n.formatPageBuild(e)}),e},formatPageBuild:function(e){return e.status===s.show?e.statusInfo={desc:"默认展示",type:"success"}:e.statusInfo={desc:"不展示",type:"info"},e},updateStatus:function(){this.pagebuildList.forEach(function(e){e.status=s.hide})},setDefaultPageBuildHandler:function(e,t){t||(t=e.status===s.show?s.hide:s.show);var n={nodeId:parseInt(this.$route.params.nodeId),status:t};return this.changePageBuildShowStatus(e,n)},changePageBuildShowStatus:function(t,n){var i=this;return this.$services.pagebuild.put(t.id,n).then(function(e){if(0!==e.data.errcode)throw new Error(e.data.msg);n.status===s.show&&i.updateStatus(),t.status=n.status,i.formatPageBuild(t)}).catch(this.$error.showErrorMessage)},handlePreview:function(e){this.$router.push({path:"/node/"+this.$route.params.nodeId+"/presentable/detail",query:{presentableId:e.presentableId,ispb:!0}})},changePageBuildHandler:function(e){var t=this;this.setDefaultPageBuildHandler(e).then(function(){t.currentIndex=e.status===s.show?e.index:""})},addNewPageBuildHandler:function(){this.$message.warning("还没开发呀呀呀")},gotoResourceDetailHandler:function(e){this.$router.push("/resource/detail/"+e.resourceId)}}}},mvHQ:function(e,t,n){e.exports={default:n("qkKv"),__esModule:!0}},n95b:function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"c",function(){return A}),n.d(t,"b",function(){return b});var i=n("//Fk"),r=n.n(i),a=n("mvHQ"),s=n.n(a);function o(t){var n,i=!1,a=[];return function(e){n?e(n):i?a.push(e):(i=!0,a.push(e),t(function(e){n=e;for(var t=void 0;t=a.shift();)t(e)}))}}function l(i){var a={};return function(t){var e=void 0;if("string"!=typeof t)try{e=s()(t)}catch(e){}else e=t;if(!e)return i(e);var n=a[e];return n||(n=a[e]=o(function(e){i(t).then(e)})),new r.a(function(t){n(function(e){t(e)})})}}function A(e){var t=o(e);return function(){return new r.a(function(e){t(e)})}}function b(e,t){for(var n=!1,i=0;i<e.length;i++){if(t(e[i],i)){n=!0;break}}return n}},qkKv:function(e,t,n){var i=n("FeBl"),a=i.JSON||(i.JSON={stringify:JSON.stringify});e.exports=function(e){return a.stringify.apply(a,arguments)}},rbfI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("WJxV"),a=n("K2bu"),r=n("XyMi");var s=function(e){n("ipT3")},o=Object(r.a)(i.a,a.a,a.b,!1,s,"data-v-00e8bb12",null);t.default=o.exports},x9Cp:function(e,t,n){"use strict";n.d(t,"b",function(){return o});var i=n("//Fk"),a=n.n(i),r=n("+vOg"),s=n("n95b");function o(e){return r.ResourceService.get(e).then(function(e){return 0===e.data.errcode?e.getData():a.a.reject(e.data)})}var l=Object(s.a)(o);t.a={loadDetail:o,onloadResourceDetail:l}}});