(window.webpackJsonp=window.webpackJsonp||[]).push([["resource"],{"59r6":function(e,t,r){"use strict";r.d(t,"b",function(){return n}),r.d(t,"c",function(){return c});var s=r("3eXy"),a=(r("snnE"),r("LvDl"),r("C2Lv"));function n(e){return s.ResourceService.get(e).then(function(e){return 0===e.data.errcode?e.getData():Promise.reject(e.data)})}var c=function(e){return n(e).then(function(e){return e})};t.a={loadDetail:n,loadResources:function(e){return a.a.get("/v1/resources/list",{params:{resourceIds:e.join(",")}}).then(function(e){return e.getData()})},onloadResourceDetail:c}},"cDW+":function(e,t,r){"use strict";r.r(t);var s=r("qqKF"),a=r("59r6"),n=(r("11pw"),{name:"resource-creator",components:{BaseResourceCreator:s.a},data:function(){return{resourceDetail:{}}},mounted:function(){var e=this,t=this.$route.params;t.resourceId&&a.a.loadDetail(t.resourceId).then(function(t){e.resourceDetail=t}).catch(this.$error.showErrorMessage)},methods:{executeNext:function(e){var t=this;this.$refs.inputArea.nextHandler?this.$refs.inputArea.nextHandler(this.data).then(function(r){r&&r.resourceId&&Object.assign(t.resourceDetail,r),e()}).catch(this.$error.showErrorMessage):e()},create2QuitHandler:function(){var e=this;this.executeNext(function(){var t=e.resourceDetail;e.$route.params.resourceId?e.$message.success("资源更新成功"):e.$message.success("资源创建成功"),setTimeout(function(){e.$router.push("/resource/detail/".concat(t.resourceId))},500)})},create2AddHandler:function(){var e=this,t=this.resourceDetail;this.executeNext(function(){t.resourceId&&e.$router.push("/resource/detail/".concat(t.resourceId,"/auth_schemes"))})}}}),c=(r("eEJI"),r("KHd+")),i=Object(c.a)(n,function(){var e=this.$createElement,t=this._self._c||e;return t("section",{staticClass:"create-resource-wrapper"},[t("div",{staticClass:"bd"},[t("base-resource-creator",{ref:"inputArea",attrs:{data:this.resourceDetail}})],1),this._v(" "),t("div",{staticClass:"ft"},[t("div",{staticClass:"btm-wrap clearfix"},[t("div",{staticClass:"rt-side"},[t("el-button",{staticClass:"ft-btn gray-btn",attrs:{type:"text"},on:{click:this.create2QuitHandler}},[this._v("完成并退出")]),this._v(" "),t("el-button",{staticClass:"ft-btn deep-color-btn",attrs:{type:"primary",round:""},on:{click:this.create2AddHandler}},[this._v("\n          完成并添加授权\n        ")])],1)])])])},[],!1,null,"8bf44d70",null);t.default=i.exports},eEJI:function(e,t,r){"use strict";var s=r("pv3L");r.n(s).a},mL9P:function(e,t,r){"use strict";r.r(t),r.d(t,"RESOURCE_TYPES",function(){return s}),r.d(t,"RESOURCE_STATUS",function(){return a});var s={widget:"widget",image:"image",audio:"audio",markdown:"markdown",pageBuild:"page_build",revealSlide:"reveal_slide",license:"license"},a=[{desc:"未知状态",type:"danger"},{desc:"未发布",type:"warning"},{desc:"已发布",type:"success"},{desc:"冻结",type:"danger"}]},pv3L:function(e,t,r){}}]);