{"version":3,"sources":["webpack:///./src/components/TableView/index.vue","webpack:///./src/components/TableView/index.vue?9ebe","webpack:///./src/components/TableView/index.vue?5aa8","webpack:///./src/views/node/page-build/list/index.vue?86e1","webpack:///./src/components/TableView/index.vue?b2f0","webpack:///./src/views/node/page-build/list/index.vue?c37d","webpack:///./src/components/TableView/index.js","webpack:///src/views/node/page-build/list/index.vue","webpack:///./src/views/node/page-build/list/index.js","webpack:///./src/views/node/page-build/list/index.vue?997c","webpack:///src/components/TableView/index.vue","webpack:///./src/views/node/page-build/list/index.vue"],"names":["name","data","loading","tableData","total","props","type","Array","default","showPagination","Boolean","formatHandler","Function","paginationOptions","Object","pageSizes","loader","pageMeta","pageSize","page","mounted","length","load","methods","pageInfo","then","res","getData","dataList","totalItem","$message","error","msg","catch","warning","handleSizeChange","val","$emit","handleCurrentChange","PAGE_BUILD_STATUS","show","hide","pagebuildList","console","log","self","param","nodeId","$route","params","$services","pagebuild","get","presentables","promises","forEach","p","promise","resource","resourceId","resourceRes","resourceDetail","push","all","resources","updateStatus","item","status","setDefaultPageBuildHandler","presentable","put","id","parseInt","errcode","success","response","errorMsg","handlePreview","$router","path","query","presentableId"],"mappings":"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","file":"static/js/7.5215e1d60c4ea8658efd.js","sourcesContent":["function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-361849fa\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-361849fa\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-361849fa\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/TableView/index.vue\n// module id = 1G+u\n// module chunks = 0 1 2 7","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading.body\",value:(_vm.loading),expression:\"loading\",modifiers:{\"body\":true}}],staticClass:\"table-view-wrapper\"},[_c('el-table',{staticClass:\"table\",attrs:{\"data\":_vm.tableData,\"stripe\":\"\",\"border\":\"\"}},[_vm._t(\"default\")],2),_vm._v(\" \"),_c('el-pagination',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showPagination),expression:\"showPagination\"}],staticClass:\"pagination\",attrs:{\"background\":true,\"current-page\":_vm.pageMeta.page,\"page-sizes\":[10, 20, 30, 50],\"page-size\":_vm.pageMeta.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-361849fa\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/TableView/index.vue\n// module id = 5b3W\n// module chunks = 0 1 2 7","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-361849fa\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/less-loader/dist/cjs.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./index.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"10c9c684\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-361849fa\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/less-loader/dist/cjs.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/TableView/index.vue\n// module id = LoYW\n// module chunks = 0 1 2 7","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('el-table',{staticClass:\"resource-list\",attrs:{\"data\":_vm.pagebuildList,\"stripe\":\"\",\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"presentableName\",\"label\":\"presentableName\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"resourceDetail.resourceName\",\"label\":\"resourceName\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"80px\",\"label\":\"status\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(scope.row.status==_vm.PAGE_BUILD_STATUS.show? '显示': '隐藏')+\"\\n      \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"presentableId\",\"width\":\"220px\",\"label\":\"presentableId(for test)\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"resourceId\",\"width\":\"350px\",\"label\":\"resourceId(for test)\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"120px\",\"label\":\"create date\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(_vm._f(\"fmtDate\")(scope.row.createDate))+\"\\n      \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"resourceUrl\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('a',{attrs:{\"href\":scope.row.resourceDetail.resourceUrl,\"target\":\"_blank\"}},[_vm._v(\"资源链接\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"200px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.handlePreview(scope.row)}}},[_vm._v(\"查看详情\\n        \")]),_vm._v(\" \"),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(scope.row.status==2),expression:\"scope.row.status==2\"}],attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.setDefaultPageBuildHandler(scope.row)}}},[_vm._v(\"设为显示\\n        \")]),_vm._v(\" \"),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(scope.row.status==1),expression:\"scope.row.status==1\"}],attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.setDefaultPageBuildHandler(scope.row, 2)}}},[_vm._v(\"设为隐藏\\n        \")])]}}])})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-62045a12\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/node/page-build/list/index.vue\n// module id = M+MZ\n// module chunks = 7","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".table-view-wrapper .table[data-v-361849fa]{max-height:100%}.table-view-wrapper .pagination[data-v-361849fa]{margin-top:15px;text-align:center}\", \"\", {\"version\":3,\"sources\":[\"/Users/daizecheng/workplace/freelog/console/client/src/components/TableView/index.vue\"],\"names\":[],\"mappings\":\"AACA,4CACE,eAAiB,CAClB,AACD,iDACE,gBAAiB,AACjB,iBAAmB,CACpB\",\"file\":\"index.vue\",\"sourcesContent\":[\"\\n.table-view-wrapper .table[data-v-361849fa] {\\n  max-height: 100%;\\n}\\n.table-view-wrapper .pagination[data-v-361849fa] {\\n  margin-top: 15px;\\n  text-align: center;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-361849fa\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/less-loader/dist/cjs.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/TableView/index.vue\n// module id = O+Ac\n// module chunks = 0 1 2 7","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".resource-list[data-v-62045a12]{width:100%;min-height:600px}\", \"\", {\"version\":3,\"sources\":[\"/Users/daizecheng/workplace/freelog/console/client/src/views/node/page-build/list/index.vue\"],\"names\":[],\"mappings\":\"AACA,gCACE,WAAY,AACZ,gBAAkB,CACnB\",\"file\":\"index.vue\",\"sourcesContent\":[\"\\n.resource-list[data-v-62045a12] {\\n  width: 100%;\\n  min-height: 600px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-62045a12\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/less-loader/dist/cjs.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/node/page-build/list/index.vue\n// module id = PExb\n// module chunks = 7","export default {\n  name: 'table-view',\n  data() {\n    return {\n      loading: false,\n      tableData: [],\n      total: 0\n    }\n  },\n  props: {\n    data: {\n      type: Array,\n      default() {\n        return []\n      }\n    },\n    showPagination: {\n      type: Boolean,\n      default: true\n    },\n    formatHandler: {\n      type: Function,\n      default: null\n    },\n    paginationOptions: {\n      type: Object,\n      default() {\n        return {\n          pageSizes: [10, 20, 30, 50]\n        }\n      }\n    },\n    loader: Function,\n    pageMeta: {\n      type: Object,\n      default() {\n        return {\n          pageSize: 10,\n          page: 1 //页码\n        }\n      }\n    }\n  },\n  mounted() {\n    this.tableData = this.data;\n    this.total = this.tableData.length\n    this.load()\n  },\n  methods: {\n    load(pageInfo) {\n      Object.assign(this.pageMeta, pageInfo || {})\n      if (this.loader) {\n        this.loading = true\n        this.loader(this.pageMeta).then((res) => {\n          var data = res.getData()\n          this.loading = false\n          if (data) {\n            var dataList = data.dataList || data;\n            if (this.formatHandler) {\n              dataList = this.formatHandler(dataList)\n            }\n            this.tableData = dataList;\n            //分页数据\n            if (data.dataList) {\n              this.total = data.totalItem\n              this.pageMeta.page = data.page || 1\n            } else {\n              this.total = dataList.length\n            }\n          } else {\n            this.$message.error(data.msg);\n          }\n        }).catch((res) => {\n          this.$message.warning('加载失败')\n          this.loading = false\n        })\n      }\n    },\n    handleSizeChange(val) {\n      var data = {pageSize: val}\n      this.load(data);\n      this.$emit('sizeChange', data)\n    },\n    handleCurrentChange(val) {\n      var data = {page: val}\n      this.load(data);\n      this.$emit('pageChange', data)\n\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/TableView/index.js","<template>\n  <section>\n    <el-table\n      class=\"resource-list\"\n      :data=\"pagebuildList\"\n      stripe\n      border>\n      <el-table-column\n        prop=\"presentableName\"\n        label=\"presentableName\">\n      </el-table-column>\n      <el-table-column\n        prop=\"resourceDetail.resourceName\"\n        label=\"resourceName\">\n      </el-table-column>\n      <el-table-column\n        width=\"80px\"\n        label=\"status\">\n        <template slot-scope=\"scope\">\n          {{scope.row.status==PAGE_BUILD_STATUS.show? '显示': '隐藏'}}\n        </template>\n      </el-table-column>\n      <el-table-column\n        prop=\"presentableId\"\n        width=\"220px\"\n        label=\"presentableId(for test)\">\n      </el-table-column>\n      <el-table-column\n        prop=\"resourceId\"\n        width=\"350px\"\n        label=\"resourceId(for test)\">\n      </el-table-column>\n      <el-table-column\n        width=\"120px\"\n        label=\"create date\">\n        <template slot-scope=\"scope\">\n          {{scope.row.createDate|fmtDate}}\n        </template>\n      </el-table-column>\n      <el-table-column\n        label=\"resourceUrl\">\n        <template slot-scope=\"scope\">\n          <a :href=\"scope.row.resourceDetail.resourceUrl\" target=\"_blank\">资源链接</a>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" width=\"200px\">\n        <template slot-scope=\"scope\">\n          <el-button\n            size=\"small\"\n            @click=\"handlePreview(scope.row)\">查看详情\n          </el-button>\n          <el-button\n            size=\"small\"\n            @click=\"setDefaultPageBuildHandler(scope.row)\" v-show=\"scope.row.status==2\">设为显示\n          </el-button>\n          <el-button\n            size=\"small\"\n            @click=\"setDefaultPageBuildHandler(scope.row, 2)\" v-show=\"scope.row.status==1\">设为隐藏\n          </el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n  </section>\n</template>\n\n<script>\n  import ResourceList from './index'\n\n  export default ResourceList\n</script>\n\n<style lang=\"less\" scoped>\n  .resource-list {\n    width: 100%;\n    min-height: 600px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/node/page-build/list/index.vue","import TableView from '@/components/TableView/index.vue'\n\nconst PAGE_BUILD_STATUS = {\n  show: 1,\n  hide: 2\n}\nexport default {\n  name: 'node-page-build-list',\n  data() {\n    return {\n      pagebuildList: [],\n      PAGE_BUILD_STATUS: PAGE_BUILD_STATUS\n    }\n  },\n  mounted() {\n    this.loader()\n      .then((data) => {\n        console.log(data)\n        this.pagebuildList = data\n      })\n  },\n  methods: {\n    loader() {\n      const self = this;\n      var param = {\n        nodeId: this.$route.params.nodeId\n      };\n      return this.$services.pagebuild.get({\n        params: param\n      }).then((res) => {\n        var presentables = res.getData()\n        var promises = []\n        presentables.forEach((p) => {\n          var promise = self.$services.resource.get(p.resourceId).then((resourceRes) => {\n            p.resourceDetail = resourceRes.getData()\n            return resourceRes\n          })\n          promises.push(promise)\n        })\n\n        return Promise.all(promises).then((resources) => {\n          return res.getData()\n        })\n      })\n    },\n    updateStatus() {\n      this.pagebuildList.forEach((item) => {\n        item.status = PAGE_BUILD_STATUS.hide\n      })\n    },\n    setDefaultPageBuildHandler(presentable, status) {\n      status = status || PAGE_BUILD_STATUS.show\n      this.$services.pagebuild.put(presentable.id, {\n        nodeId: parseInt(this.$route.params.nodeId),\n        status: status\n      }).then((res) => {\n        if (res.data.errcode === 0) {\n          if (status === PAGE_BUILD_STATUS.show) {\n            this.updateStatus()\n          }\n          presentable.status = status\n          this.$message.success('设置成功')\n        } else {\n          this.$message.error(res.data.msg)\n        }\n      }).catch((res) => {\n        this.$message.error(res.response.errorMsg)\n      })\n    },\n    handlePreview(presentable) {\n      this.$router.push({\n        path: `/node/${this.$route.params.nodeId}/presentable/detail`,\n        query: {presentableId: presentable.presentableId}\n      })\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/node/page-build/list/index.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-62045a12\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/less-loader/dist/cjs.js?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./index.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"7253c832\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-62045a12\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/less-loader/dist/cjs.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/node/page-build/list/index.vue\n// module id = oYWP\n// module chunks = 7","<template>\n  <div class=\"table-view-wrapper\" v-loading.body=\"loading\">\n    <el-table\n      class=\"table\"\n      :data=\"tableData\"\n      stripe\n      border>\n      <slot></slot>\n    </el-table>\n    <el-pagination\n      v-show=\"showPagination\"\n      class=\"pagination\"\n      @size-change=\"handleSizeChange\"\n      @current-change=\"handleCurrentChange\"\n      :background=\"true\"\n      :current-page=\"pageMeta.page\"\n      :page-sizes=\"[10, 20, 30, 50]\"\n      :page-size=\"pageMeta.pageSize\"\n      layout=\"total, sizes, prev, pager, next, jumper\"\n      :total=\"total\">\n    </el-pagination>\n  </div>\n</template>\n\n<script>\n  import TableView from './index'\n  export default TableView\n</script>\n\n<style lang=\"less\" scoped>\n.table-view-wrapper {\n  .table {\n    max-height: 100%;\n  }\n\n  .pagination {\n    margin-top: 15px;\n    text-align: center;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/TableView/index.vue","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-62045a12\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-62045a12\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-62045a12\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/node/page-build/list/index.vue\n// module id = rbfI\n// module chunks = 7"],"sourceRoot":""}