{"version":3,"sources":["webpack:///static/js/7.5215e1d60c4ea8658efd.js","webpack:///./src/components/TableView/index.vue","webpack:///./src/components/TableView/index.vue?9ebe","webpack:///./src/components/TableView/index.vue?5aa8","webpack:///./src/views/node/page-build/list/index.vue?86e1","webpack:///./src/components/TableView/index.vue?b2f0","webpack:///./src/views/node/page-build/list/index.vue?c37d","webpack:///./src/components/TableView/index.js","webpack:///src/views/node/page-build/list/index.vue","webpack:///./src/views/node/page-build/list/index.js","webpack:///./src/views/node/page-build/list/index.vue?997c","webpack:///src/components/TableView/index.vue","webpack:///./src/views/node/page-build/list/index.vue"],"names":["webpackJsonp","1G+u","module","__webpack_exports__","__webpack_require__","injectStyle","ssrContext","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_index_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_361849fa_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_index_vue__","normalizeComponent","__vue_styles__","Component","5b3W","render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","modifiers","body","staticClass","attrs","data","tableData","stripe","border","_t","_v","background","current-page","pageMeta","page","page-sizes","page-size","pageSize","layout","total","on","size-change","handleSizeChange","current-change","handleCurrentChange","staticRenderFns","esExports","LoYW","exports","content","i","locals","M+MZ","pagebuildList","prop","label","width","scopedSlots","_u","key","fn","scope","_s","row","status","PAGE_BUILD_STATUS","show","_f","createDate","href","resourceDetail","resourceUrl","target","size","click","$event","handlePreview","setDefaultPageBuildHandler","O+Ac","push","version","sources","names","mappings","file","sourcesContent","sourceRoot","PExb","PG49","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default","n","loading","props","type","Array","default","showPagination","Boolean","formatHandler","Function","paginationOptions","Object","pageSizes","loader","mounted","length","load","methods","pageInfo","_this","then","res","getData","dataList","totalItem","$message","error","msg","catch","warning","val","$emit","WJxV","__WEBPACK_IMPORTED_MODULE_0__index__","jWBi","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","hide","console","log","self","param","nodeId","$route","params","$services","pagebuild","get","presentables","promises","forEach","p","promise","resource","resourceId","resourceRes","a","all","resources","updateStatus","item","presentable","_this2","put","id","parseInt","errcode","success","response","errorMsg","$router","path","query","presentableId","oYWP","rQCC","rbfI","defineProperty","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_62045a12_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_index_vue__"],"mappings":"AAAAA,cAAc,IAERC,OACA,SAAUC,EAAQC,EAAqBC,GAE7C,YCLA,SAAAC,GAAAC,GACAF,EAAA,QDKqB,GAAIG,GAAiHH,EAAoB,QCN9JI,EAAAJ,EAAA,QAGAK,EAAAL,EAAA,QASAM,EAAAL,EAKAM,EAAAF,EACAF,EAAA,EACAC,EAAA,GATA,EAWAE,EAPA,kBAEA,KAUAP,GAAA,EAAAQ,EAAA,SDcMC,OACA,SAAUV,EAAQC,EAAqBC,GAE7C,YE3CA,IAAAS,GAAA,WAA0B,GAAAC,GAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,CAAwB,OAAAE,GAAA,OAAiBE,aAAaC,KAAA,UAAAC,QAAA,iBAAAC,MAAAT,EAAA,QAAAU,WAAA,UAAAC,WAA4FC,MAAA,KAAaC,YAAA,uBAAmCT,EAAA,YAAiBS,YAAA,QAAAC,OAA2BC,KAAAf,EAAAgB,UAAAC,OAAA,GAAAC,OAAA,MAA8ClB,EAAAmB,GAAA,eAAAnB,EAAAoB,GAAA,KAAAhB,EAAA,iBAAwDE,aAAaC,KAAA,OAAAC,QAAA,SAAAC,MAAAT,EAAA,eAAAU,WAAA,mBAAoFG,YAAA,aAAAC,OAAkCO,YAAA,EAAAC,eAAAtB,EAAAuB,SAAAC,KAAAC,cAAA,aAAAC,YAAA1B,EAAAuB,SAAAI,SAAAC,OAAA,0CAAAC,MAAA7B,EAAA6B,OAAwLC,IAAKC,cAAA/B,EAAAgC,iBAAAC,iBAAAjC,EAAAkC,wBAA6E,IAClyBC,KACAC,GAAiBrC,SAAAoC,kBACjB9C,GAAA,KFgDMgD,KACA,SAAUjD,EAAQkD,EAAShD,GGjDjC,GAAAiD,GAAAjD,EAAA,OACA,iBAAAiD,SAAAnD,EAAAoD,EAAAD,EAAA,MACAA,EAAAE,SAAArD,EAAAkD,QAAAC,EAAAE,OAEAnD,GAAA,mBAAAiD,GAAA,IH0DMG,OACA,SAAUtD,EAAQC,EAAqBC,GAE7C,YIpEA,IAAAS,GAAA,WAA0B,GAAAC,GAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,CAAwB,OAAAE,GAAA,WAAAA,EAAA,YAAoCS,YAAA,gBAAAC,OAAmCC,KAAAf,EAAA2C,cAAA1B,OAAA,GAAAC,OAAA,MAAkDd,EAAA,mBAAwBU,OAAO8B,KAAA,kBAAAC,MAAA,qBAAoD7C,EAAAoB,GAAA,KAAAhB,EAAA,mBAAoCU,OAAO8B,KAAA,8BAAAC,MAAA,kBAA6D7C,EAAAoB,GAAA,KAAAhB,EAAA,mBAAoCU,OAAOgC,MAAA,OAAAD,MAAA,UAAgCE,YAAA/C,EAAAgD,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAAnD,EAAAoB,GAAA,aAAApB,EAAAoD,GAAAD,EAAAE,IAAAC,QAAAtD,EAAAuD,kBAAAC,KAAA,8BAA8GxD,EAAAoB,GAAA,KAAAhB,EAAA,mBAAoCU,OAAO8B,KAAA,gBAAAE,MAAA,QAAAD,MAAA,6BAA0E7C,EAAAoB,GAAA,KAAAhB,EAAA,mBAAoCU,OAAO8B,KAAA,aAAAE,MAAA,QAAAD,MAAA,0BAAoE7C,EAAAoB,GAAA,KAAAhB,EAAA,mBAAoCU,OAAOgC,MAAA,QAAAD,MAAA,eAAsCE,YAAA/C,EAAAgD,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAAnD,EAAAoB,GAAA,aAAApB,EAAAoD,GAAApD,EAAAyD,GAAA,WAAAN,EAAAE,IAAAK,aAAA,mBAA6F1D,EAAAoB,GAAA,KAAAhB,EAAA,mBAAoCU,OAAO+B,MAAA,eAAsBE,YAAA/C,EAAAgD,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAA/C,EAAA,KAAgBU,OAAO6C,KAAAR,EAAAE,IAAAO,eAAAC,YAAAC,OAAA,YAA+D9D,EAAAoB,GAAA,iBAAwBpB,EAAAoB,GAAA,KAAAhB,EAAA,mBAAoCU,OAAO+B,MAAA,KAAAC,MAAA,SAA6BC,YAAA/C,EAAAgD,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAA/C,EAAA,aAAwBU,OAAOiD,KAAA,SAAejC,IAAKkC,MAAA,SAAAC,GAAyBjE,EAAAkE,cAAAf,EAAAE,SAA+BrD,EAAAoB,GAAA,oBAAApB,EAAAoB,GAAA,KAAAhB,EAAA,aAAyDE,aAAaC,KAAA,OAAAC,QAAA,SAAAC,MAAA,GAAA0C,EAAAE,IAAAC,OAAA5C,WAAA,wBAA0FI,OAASiD,KAAA,SAAejC,IAAKkC,MAAA,SAAAC,GAAyBjE,EAAAmE,2BAAAhB,EAAAE,SAA4CrD,EAAAoB,GAAA,oBAAApB,EAAAoB,GAAA,KAAAhB,EAAA,aAAyDE,aAAaC,KAAA,OAAAC,QAAA,SAAAC,MAAA,GAAA0C,EAAAE,IAAAC,OAAA5C,WAAA,wBAA0FI,OAASiD,KAAA,SAAejC,IAAKkC,MAAA,SAAAC,GAAyBjE,EAAAmE,2BAAAhB,EAAAE,IAAA,OAA+CrD,EAAAoB,GAAA,4BAAkC,QAC/jEe,KACAC,GAAiBrC,SAAAoC,kBACjB9C,GAAA,KJyEM+E,OACA,SAAUhF,EAAQkD,EAAShD,GK7EjCgD,EAAAlD,EAAAkD,QAAAhD,EAAA,YAKAgD,EAAA+B,MAAAjF,EAAAoD,EAAA,kJAAyK,IAAQ8B,QAAA,EAAAC,SAAA,yFAAAC,SAAAC,SAAA,8DAAAC,KAAA,YAAAC,gBAAA,gLAAoZC,WAAA,OLsF/jBC,KACA,SAAUzF,EAAQkD,EAAShD,GM5FjCgD,EAAAlD,EAAAkD,QAAAhD,EAAA,YAKAgD,EAAA+B,MAAAjF,EAAAoD,EAAA,+DAAsF,IAAQ8B,QAAA,EAAAC,SAAA,+FAAAC,SAAAC,SAAA,oCAAAC,KAAA,YAAAC,gBAAA,kFAAkSC,WAAA,ONqG1XE,KACA,SAAU1F,EAAQC,EAAqBC,GAE7C,YACqB,IAAIyF,GAAoEzF,EAAoB,QACxF0F,EAA4E1F,EAAoB2F,EAAEF,EO/G3H1F,GAAA,GACEkB,KAAM,aACNQ,KAFa,WAGX,OACEmE,SAAS,EACTlE,aACAa,MAAO,IAGXsD,OACEpE,MACEqE,KAAMC,MACNC,QAFI,WAGF,WAGJC,gBACEH,KAAMI,QACNF,SAAS,GAEXG,eACEL,KAAMM,SACNJ,QAAS,MAEXK,mBACEP,KAAMQ,OACNN,QAFiB,WAGf,OACEO,WAAY,GAAI,GAAI,GAAI,OAI9BC,OAAQJ,SACRnE,UACE6D,KAAMQ,OACNN,QAFQ,WAGN,OACE3D,SAAU,GACVH,KAAM,MAKduE,QA3Ca,WA4CX9F,KAAKe,UAAYf,KAAKc,KACtBd,KAAK4B,MAAQ5B,KAAKe,UAAUgF,OAC5B/F,KAAKgG,QAEPC,SACED,KADO,SACFE,GAAU,GAAAC,GAAAnG,IACb+E,KAAc/E,KAAKsB,SAAU4E,OACzBlG,KAAK6F,SACP7F,KAAKiF,SAAU,EACfjF,KAAK6F,OAAO7F,KAAKsB,UAAU8E,KAAK,SAACC,GAC/B,GAAIvF,GAAOuF,EAAIC,SAEf,IADAH,EAAKlB,SAAU,EACXnE,EAAM,CACR,GAAIyF,GAAWzF,EAAKyF,UAAYzF,CAC5BqF,GAAKX,gBACPe,EAAWJ,EAAKX,cAAce,IAEhCJ,EAAKpF,UAAYwF,EAEbzF,EAAKyF,UACPJ,EAAKvE,MAAQd,EAAK0F,UAClBL,EAAK7E,SAASC,KAAOT,EAAKS,MAAQ,GAElC4E,EAAKvE,MAAQ2E,EAASR,WAGxBI,GAAKM,SAASC,MAAM5F,EAAK6F,OAE1BC,MAAM,SAACP,GACRF,EAAKM,SAASI,QAAQ,QACtBV,EAAKlB,SAAU,MAIrBlD,iBA9BO,SA8BU+E,GACf,GAAIhG,IAAQY,SAAUoF,EACtB9G,MAAKgG,KAAKlF,GACVd,KAAK+G,MAAM,aAAcjG,IAE3BmB,oBAnCO,SAmCa6E,GAClB,GAAIhG,IAAQS,KAAMuF,EAClB9G,MAAKgG,KAAKlF,GACVd,KAAK+G,MAAM,aAAcjG,OP4HzBkG,KACA,SAAU7H,EAAQC,EAAqBC,GAE7C,YACqB,IAAI4H,GAAuC5H,EAAoB,OQnJpFD,GAAA,EAAA6H,EAAA,GR4NMC,KACA,SAAU/H,EAAQC,EAAqBC,GAE7C,YACqB,IAAI8H,GAA8D9H,EAAoB,QAClF+H,EAAsE/H,EAAoB2F,EAAEmC,GSlS/G7D,GTmSmFjE,EAAoB,SSlS3GkE,KAAM,EACN8D,KAAM,GAERjI,GAAA,GACEkB,KAAM,uBACNQ,KAFa,WAGX,OACE4B,iBACAY,kBAAmBA,IAGvBwC,QARa,WAQH,GAAAK,GAAAnG,IACRA,MAAK6F,SACFO,KAAK,SAACtF,GACLwG,QAAQC,IAAIzG,GACZqF,EAAKzD,cAAgB5B,KAG3BmF,SACEJ,OADO,WAEL,GAAM2B,GAAOxH,KACTyH,GACFC,OAAQ1H,KAAK2H,OAAOC,OAAOF,OAE7B,OAAO1H,MAAK6H,UAAUC,UAAUC,KAC9BH,OAAQH,IACPrB,KAAK,SAACC,GACP,GAAI2B,GAAe3B,EAAIC,UACnB2B,IASJ,OARAD,GAAaE,QAAQ,SAACC,GACpB,GAAIC,GAAUZ,EAAKK,UAAUQ,SAASN,IAAII,EAAEG,YAAYlC,KAAK,SAACmC,GAE5D,MADAJ,GAAExE,eAAiB4E,EAAYjC,UACxBiC,GAETN,GAAS7D,KAAKgE,KAGThB,EAAAoB,EAAQC,IAAIR,GAAU7B,KAAK,SAACsC,GACjC,MAAOrC,GAAIC,eAIjBqC,aAxBO,WAyBL3I,KAAK0C,cAAcwF,QAAQ,SAACU,GAC1BA,EAAKvF,OAASC,EAAkB+D,QAGpCnD,2BA7BO,SA6BoB2E,EAAaxF,GAAQ,GAAAyF,GAAA9I,IAC9CqD,GAASA,GAAUC,EAAkBC,KACrCvD,KAAK6H,UAAUC,UAAUiB,IAAIF,EAAYG,IACvCtB,OAAQuB,SAASjJ,KAAK2H,OAAOC,OAAOF,QACpCrE,OAAQA,IACP+C,KAAK,SAACC,GACkB,IAArBA,EAAIvF,KAAKoI,SACP7F,IAAWC,EAAkBC,MAC/BuF,EAAKH,eAEPE,EAAYxF,OAASA,EACrByF,EAAKrC,SAAS0C,QAAQ,SAEtBL,EAAKrC,SAASC,MAAML,EAAIvF,KAAK6F,OAE9BC,MAAM,SAACP,GACRyC,EAAKrC,SAASC,MAAML,EAAI+C,SAASC,aAGrCpF,cAhDO,SAgDO4E,GACZ7I,KAAKsJ,QAAQlF,MACXmF,cAAevJ,KAAK2H,OAAOC,OAAOF,OAAlC,sBACA8B,OAAQC,cAAeZ,EAAYY,qBTmTrCC,KACA,SAAUvK,EAAQkD,EAAShD,GUzXjC,GAAAiD,GAAAjD,EAAA,OACA,iBAAAiD,SAAAnD,EAAAoD,EAAAD,EAAA,MACAA,EAAAE,SAAArD,EAAAkD,QAAAC,EAAAE,OAEAnD,GAAA,mBAAAiD,GAAA,IVkYMqH,KACA,SAAUxK,EAAQC,EAAqBC,GAE7C,YACqB,IAAI4H,GAAuC5H,EAAoB,OWpXpFD,GAAA,EAAA6H,EAAA,GXmZM2C,KACA,SAAUzK,EAAQC,EAAqBC,GAE7C,YY/aA,SAAAC,GAAAC,GACAF,EAAA,QZ+aAsG,OAAOkE,eAAezK,EAAqB,cAAgBoB,OAAO,GAC7C,IAAIhB,GAAiHH,EAAoB,QYjb9JyK,EAAAzK,EAAA,QAGAK,EAAAL,EAAA,QASAM,EAAAL,EAKAM,EAAAF,EACAF,EAAA,EACAsK,EAAA,GATA,EAWAnK,EAPA,kBAEA,KAUAP,GAAA,QAAAQ,EAAA","file":"static/js/7.5215e1d60c4ea8658efd.js","sourcesContent":["webpackJsonp([7],{\n\n/***/ \"1G+u\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_index_vue__ = __webpack_require__(\"rQCC\");\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_361849fa_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_index_vue__ = __webpack_require__(\"5b3W\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"LoYW\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-361849fa\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_index_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_361849fa_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_index_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"5b3W\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading.body\",value:(_vm.loading),expression:\"loading\",modifiers:{\"body\":true}}],staticClass:\"table-view-wrapper\"},[_c('el-table',{staticClass:\"table\",attrs:{\"data\":_vm.tableData,\"stripe\":\"\",\"border\":\"\"}},[_vm._t(\"default\")],2),_vm._v(\" \"),_c('el-pagination',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showPagination),expression:\"showPagination\"}],staticClass:\"pagination\",attrs:{\"background\":true,\"current-page\":_vm.pageMeta.page,\"page-sizes\":[10, 20, 30, 50],\"page-size\":_vm.pageMeta.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"LoYW\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"O+Ac\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"rjj0\")(\"10c9c684\", content, true);\n\n/***/ }),\n\n/***/ \"M+MZ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('el-table',{staticClass:\"resource-list\",attrs:{\"data\":_vm.pagebuildList,\"stripe\":\"\",\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"presentableName\",\"label\":\"presentableName\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"resourceDetail.resourceName\",\"label\":\"resourceName\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"80px\",\"label\":\"status\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(scope.row.status==_vm.PAGE_BUILD_STATUS.show? '显示': '隐藏')+\"\\n      \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"presentableId\",\"width\":\"220px\",\"label\":\"presentableId(for test)\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"resourceId\",\"width\":\"350px\",\"label\":\"resourceId(for test)\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"120px\",\"label\":\"create date\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(_vm._f(\"fmtDate\")(scope.row.createDate))+\"\\n      \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"resourceUrl\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('a',{attrs:{\"href\":scope.row.resourceDetail.resourceUrl,\"target\":\"_blank\"}},[_vm._v(\"资源链接\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"200px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.handlePreview(scope.row)}}},[_vm._v(\"查看详情\\n        \")]),_vm._v(\" \"),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(scope.row.status==2),expression:\"scope.row.status==2\"}],attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.setDefaultPageBuildHandler(scope.row)}}},[_vm._v(\"设为显示\\n        \")]),_vm._v(\" \"),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(scope.row.status==1),expression:\"scope.row.status==1\"}],attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.setDefaultPageBuildHandler(scope.row, 2)}}},[_vm._v(\"设为隐藏\\n        \")])]}}])})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"O+Ac\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"FZ+f\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \".table-view-wrapper .table[data-v-361849fa]{max-height:100%}.table-view-wrapper .pagination[data-v-361849fa]{margin-top:15px;text-align:center}\", \"\", {\"version\":3,\"sources\":[\"/Users/daizecheng/workplace/freelog/console/client/src/components/TableView/index.vue\"],\"names\":[],\"mappings\":\"AACA,4CACE,eAAiB,CAClB,AACD,iDACE,gBAAiB,AACjB,iBAAmB,CACpB\",\"file\":\"index.vue\",\"sourcesContent\":[\"\\n.table-view-wrapper .table[data-v-361849fa] {\\n  max-height: 100%;\\n}\\n.table-view-wrapper .pagination[data-v-361849fa] {\\n  margin-top: 15px;\\n  text-align: center;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"PExb\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"FZ+f\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \".resource-list[data-v-62045a12]{width:100%;min-height:600px}\", \"\", {\"version\":3,\"sources\":[\"/Users/daizecheng/workplace/freelog/console/client/src/views/node/page-build/list/index.vue\"],\"names\":[],\"mappings\":\"AACA,gCACE,WAAY,AACZ,gBAAkB,CACnB\",\"file\":\"index.vue\",\"sourcesContent\":[\"\\n.resource-list[data-v-62045a12] {\\n  width: 100%;\\n  min-height: 600px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"PG49\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(\"woOf\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'table-view',\n  data: function data() {\n    return {\n      loading: false,\n      tableData: [],\n      total: 0\n    };\n  },\n\n  props: {\n    data: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    showPagination: {\n      type: Boolean,\n      default: true\n    },\n    formatHandler: {\n      type: Function,\n      default: null\n    },\n    paginationOptions: {\n      type: Object,\n      default: function _default() {\n        return {\n          pageSizes: [10, 20, 30, 50]\n        };\n      }\n    },\n    loader: Function,\n    pageMeta: {\n      type: Object,\n      default: function _default() {\n        return {\n          pageSize: 10,\n          page: 1 //页码\n        };\n      }\n    }\n  },\n  mounted: function mounted() {\n    this.tableData = this.data;\n    this.total = this.tableData.length;\n    this.load();\n  },\n\n  methods: {\n    load: function load(pageInfo) {\n      var _this = this;\n\n      __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()(this.pageMeta, pageInfo || {});\n      if (this.loader) {\n        this.loading = true;\n        this.loader(this.pageMeta).then(function (res) {\n          var data = res.getData();\n          _this.loading = false;\n          if (data) {\n            var dataList = data.dataList || data;\n            if (_this.formatHandler) {\n              dataList = _this.formatHandler(dataList);\n            }\n            _this.tableData = dataList;\n            //分页数据\n            if (data.dataList) {\n              _this.total = data.totalItem;\n              _this.pageMeta.page = data.page || 1;\n            } else {\n              _this.total = dataList.length;\n            }\n          } else {\n            _this.$message.error(data.msg);\n          }\n        }).catch(function (res) {\n          _this.$message.warning('加载失败');\n          _this.loading = false;\n        });\n      }\n    },\n    handleSizeChange: function handleSizeChange(val) {\n      var data = { pageSize: val };\n      this.load(data);\n      this.$emit('sizeChange', data);\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      var data = { page: val };\n      this.load(data);\n      this.$emit('pageChange', data);\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"WJxV\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__index__ = __webpack_require__(\"jWBi\");\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (__WEBPACK_IMPORTED_MODULE_0__index__[\"a\" /* default */]);\n\n/***/ }),\n\n/***/ \"jWBi\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__ = __webpack_require__(\"//Fk\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_TableView_index_vue__ = __webpack_require__(\"1G+u\");\n\n\n\nvar PAGE_BUILD_STATUS = {\n  show: 1,\n  hide: 2\n};\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'node-page-build-list',\n  data: function data() {\n    return {\n      pagebuildList: [],\n      PAGE_BUILD_STATUS: PAGE_BUILD_STATUS\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.loader().then(function (data) {\n      console.log(data);\n      _this.pagebuildList = data;\n    });\n  },\n\n  methods: {\n    loader: function loader() {\n      var self = this;\n      var param = {\n        nodeId: this.$route.params.nodeId\n      };\n      return this.$services.pagebuild.get({\n        params: param\n      }).then(function (res) {\n        var presentables = res.getData();\n        var promises = [];\n        presentables.forEach(function (p) {\n          var promise = self.$services.resource.get(p.resourceId).then(function (resourceRes) {\n            p.resourceDetail = resourceRes.getData();\n            return resourceRes;\n          });\n          promises.push(promise);\n        });\n\n        return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a.all(promises).then(function (resources) {\n          return res.getData();\n        });\n      });\n    },\n    updateStatus: function updateStatus() {\n      this.pagebuildList.forEach(function (item) {\n        item.status = PAGE_BUILD_STATUS.hide;\n      });\n    },\n    setDefaultPageBuildHandler: function setDefaultPageBuildHandler(presentable, status) {\n      var _this2 = this;\n\n      status = status || PAGE_BUILD_STATUS.show;\n      this.$services.pagebuild.put(presentable.id, {\n        nodeId: parseInt(this.$route.params.nodeId),\n        status: status\n      }).then(function (res) {\n        if (res.data.errcode === 0) {\n          if (status === PAGE_BUILD_STATUS.show) {\n            _this2.updateStatus();\n          }\n          presentable.status = status;\n          _this2.$message.success('设置成功');\n        } else {\n          _this2.$message.error(res.data.msg);\n        }\n      }).catch(function (res) {\n        _this2.$message.error(res.response.errorMsg);\n      });\n    },\n    handlePreview: function handlePreview(presentable) {\n      this.$router.push({\n        path: '/node/' + this.$route.params.nodeId + '/presentable/detail',\n        query: { presentableId: presentable.presentableId }\n      });\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"oYWP\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"PExb\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"rjj0\")(\"7253c832\", content, true);\n\n/***/ }),\n\n/***/ \"rQCC\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__index__ = __webpack_require__(\"PG49\");\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (__WEBPACK_IMPORTED_MODULE_0__index__[\"a\" /* default */]);\n\n/***/ }),\n\n/***/ \"rbfI\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_index_vue__ = __webpack_require__(\"WJxV\");\n/* empty harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_62045a12_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_index_vue__ = __webpack_require__(\"M+MZ\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"oYWP\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-62045a12\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_index_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_62045a12_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_index_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/7.5215e1d60c4ea8658efd.js","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-361849fa\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-361849fa\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-361849fa\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/TableView/index.vue\n// module id = 1G+u\n// module chunks = 0 1 2 7","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading.body\",value:(_vm.loading),expression:\"loading\",modifiers:{\"body\":true}}],staticClass:\"table-view-wrapper\"},[_c('el-table',{staticClass:\"table\",attrs:{\"data\":_vm.tableData,\"stripe\":\"\",\"border\":\"\"}},[_vm._t(\"default\")],2),_vm._v(\" \"),_c('el-pagination',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showPagination),expression:\"showPagination\"}],staticClass:\"pagination\",attrs:{\"background\":true,\"current-page\":_vm.pageMeta.page,\"page-sizes\":[10, 20, 30, 50],\"page-size\":_vm.pageMeta.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-361849fa\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/TableView/index.vue\n// module id = 5b3W\n// module chunks = 0 1 2 7","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-361849fa\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/less-loader/dist/cjs.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./index.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"10c9c684\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-361849fa\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/less-loader/dist/cjs.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/TableView/index.vue\n// module id = LoYW\n// module chunks = 0 1 2 7","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('el-table',{staticClass:\"resource-list\",attrs:{\"data\":_vm.pagebuildList,\"stripe\":\"\",\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"presentableName\",\"label\":\"presentableName\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"resourceDetail.resourceName\",\"label\":\"resourceName\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"80px\",\"label\":\"status\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(scope.row.status==_vm.PAGE_BUILD_STATUS.show? '显示': '隐藏')+\"\\n      \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"presentableId\",\"width\":\"220px\",\"label\":\"presentableId(for test)\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"resourceId\",\"width\":\"350px\",\"label\":\"resourceId(for test)\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"120px\",\"label\":\"create date\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(_vm._f(\"fmtDate\")(scope.row.createDate))+\"\\n      \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"resourceUrl\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('a',{attrs:{\"href\":scope.row.resourceDetail.resourceUrl,\"target\":\"_blank\"}},[_vm._v(\"资源链接\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"200px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.handlePreview(scope.row)}}},[_vm._v(\"查看详情\\n        \")]),_vm._v(\" \"),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(scope.row.status==2),expression:\"scope.row.status==2\"}],attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.setDefaultPageBuildHandler(scope.row)}}},[_vm._v(\"设为显示\\n        \")]),_vm._v(\" \"),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(scope.row.status==1),expression:\"scope.row.status==1\"}],attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.setDefaultPageBuildHandler(scope.row, 2)}}},[_vm._v(\"设为隐藏\\n        \")])]}}])})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-62045a12\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/node/page-build/list/index.vue\n// module id = M+MZ\n// module chunks = 7","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".table-view-wrapper .table[data-v-361849fa]{max-height:100%}.table-view-wrapper .pagination[data-v-361849fa]{margin-top:15px;text-align:center}\", \"\", {\"version\":3,\"sources\":[\"/Users/daizecheng/workplace/freelog/console/client/src/components/TableView/index.vue\"],\"names\":[],\"mappings\":\"AACA,4CACE,eAAiB,CAClB,AACD,iDACE,gBAAiB,AACjB,iBAAmB,CACpB\",\"file\":\"index.vue\",\"sourcesContent\":[\"\\n.table-view-wrapper .table[data-v-361849fa] {\\n  max-height: 100%;\\n}\\n.table-view-wrapper .pagination[data-v-361849fa] {\\n  margin-top: 15px;\\n  text-align: center;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-361849fa\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/less-loader/dist/cjs.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/TableView/index.vue\n// module id = O+Ac\n// module chunks = 0 1 2 7","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".resource-list[data-v-62045a12]{width:100%;min-height:600px}\", \"\", {\"version\":3,\"sources\":[\"/Users/daizecheng/workplace/freelog/console/client/src/views/node/page-build/list/index.vue\"],\"names\":[],\"mappings\":\"AACA,gCACE,WAAY,AACZ,gBAAkB,CACnB\",\"file\":\"index.vue\",\"sourcesContent\":[\"\\n.resource-list[data-v-62045a12] {\\n  width: 100%;\\n  min-height: 600px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-62045a12\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/less-loader/dist/cjs.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/node/page-build/list/index.vue\n// module id = PExb\n// module chunks = 7","export default {\n  name: 'table-view',\n  data() {\n    return {\n      loading: false,\n      tableData: [],\n      total: 0\n    }\n  },\n  props: {\n    data: {\n      type: Array,\n      default() {\n        return []\n      }\n    },\n    showPagination: {\n      type: Boolean,\n      default: true\n    },\n    formatHandler: {\n      type: Function,\n      default: null\n    },\n    paginationOptions: {\n      type: Object,\n      default() {\n        return {\n          pageSizes: [10, 20, 30, 50]\n        }\n      }\n    },\n    loader: Function,\n    pageMeta: {\n      type: Object,\n      default() {\n        return {\n          pageSize: 10,\n          page: 1 //页码\n        }\n      }\n    }\n  },\n  mounted() {\n    this.tableData = this.data;\n    this.total = this.tableData.length\n    this.load()\n  },\n  methods: {\n    load(pageInfo) {\n      Object.assign(this.pageMeta, pageInfo || {})\n      if (this.loader) {\n        this.loading = true\n        this.loader(this.pageMeta).then((res) => {\n          var data = res.getData()\n          this.loading = false\n          if (data) {\n            var dataList = data.dataList || data;\n            if (this.formatHandler) {\n              dataList = this.formatHandler(dataList)\n            }\n            this.tableData = dataList;\n            //分页数据\n            if (data.dataList) {\n              this.total = data.totalItem\n              this.pageMeta.page = data.page || 1\n            } else {\n              this.total = dataList.length\n            }\n          } else {\n            this.$message.error(data.msg);\n          }\n        }).catch((res) => {\n          this.$message.warning('加载失败')\n          this.loading = false\n        })\n      }\n    },\n    handleSizeChange(val) {\n      var data = {pageSize: val}\n      this.load(data);\n      this.$emit('sizeChange', data)\n    },\n    handleCurrentChange(val) {\n      var data = {page: val}\n      this.load(data);\n      this.$emit('pageChange', data)\n\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/TableView/index.js","<template>\n  <section>\n    <el-table\n      class=\"resource-list\"\n      :data=\"pagebuildList\"\n      stripe\n      border>\n      <el-table-column\n        prop=\"presentableName\"\n        label=\"presentableName\">\n      </el-table-column>\n      <el-table-column\n        prop=\"resourceDetail.resourceName\"\n        label=\"resourceName\">\n      </el-table-column>\n      <el-table-column\n        width=\"80px\"\n        label=\"status\">\n        <template slot-scope=\"scope\">\n          {{scope.row.status==PAGE_BUILD_STATUS.show? '显示': '隐藏'}}\n        </template>\n      </el-table-column>\n      <el-table-column\n        prop=\"presentableId\"\n        width=\"220px\"\n        label=\"presentableId(for test)\">\n      </el-table-column>\n      <el-table-column\n        prop=\"resourceId\"\n        width=\"350px\"\n        label=\"resourceId(for test)\">\n      </el-table-column>\n      <el-table-column\n        width=\"120px\"\n        label=\"create date\">\n        <template slot-scope=\"scope\">\n          {{scope.row.createDate|fmtDate}}\n        </template>\n      </el-table-column>\n      <el-table-column\n        label=\"resourceUrl\">\n        <template slot-scope=\"scope\">\n          <a :href=\"scope.row.resourceDetail.resourceUrl\" target=\"_blank\">资源链接</a>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" width=\"200px\">\n        <template slot-scope=\"scope\">\n          <el-button\n            size=\"small\"\n            @click=\"handlePreview(scope.row)\">查看详情\n          </el-button>\n          <el-button\n            size=\"small\"\n            @click=\"setDefaultPageBuildHandler(scope.row)\" v-show=\"scope.row.status==2\">设为显示\n          </el-button>\n          <el-button\n            size=\"small\"\n            @click=\"setDefaultPageBuildHandler(scope.row, 2)\" v-show=\"scope.row.status==1\">设为隐藏\n          </el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n  </section>\n</template>\n\n<script>\n  import ResourceList from './index'\n\n  export default ResourceList\n</script>\n\n<style lang=\"less\" scoped>\n  .resource-list {\n    width: 100%;\n    min-height: 600px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/node/page-build/list/index.vue","import TableView from '@/components/TableView/index.vue'\n\nconst PAGE_BUILD_STATUS = {\n  show: 1,\n  hide: 2\n}\nexport default {\n  name: 'node-page-build-list',\n  data() {\n    return {\n      pagebuildList: [],\n      PAGE_BUILD_STATUS: PAGE_BUILD_STATUS\n    }\n  },\n  mounted() {\n    this.loader()\n      .then((data) => {\n        console.log(data)\n        this.pagebuildList = data\n      })\n  },\n  methods: {\n    loader() {\n      const self = this;\n      var param = {\n        nodeId: this.$route.params.nodeId\n      };\n      return this.$services.pagebuild.get({\n        params: param\n      }).then((res) => {\n        var presentables = res.getData()\n        var promises = []\n        presentables.forEach((p) => {\n          var promise = self.$services.resource.get(p.resourceId).then((resourceRes) => {\n            p.resourceDetail = resourceRes.getData()\n            return resourceRes\n          })\n          promises.push(promise)\n        })\n\n        return Promise.all(promises).then((resources) => {\n          return res.getData()\n        })\n      })\n    },\n    updateStatus() {\n      this.pagebuildList.forEach((item) => {\n        item.status = PAGE_BUILD_STATUS.hide\n      })\n    },\n    setDefaultPageBuildHandler(presentable, status) {\n      status = status || PAGE_BUILD_STATUS.show\n      this.$services.pagebuild.put(presentable.id, {\n        nodeId: parseInt(this.$route.params.nodeId),\n        status: status\n      }).then((res) => {\n        if (res.data.errcode === 0) {\n          if (status === PAGE_BUILD_STATUS.show) {\n            this.updateStatus()\n          }\n          presentable.status = status\n          this.$message.success('设置成功')\n        } else {\n          this.$message.error(res.data.msg)\n        }\n      }).catch((res) => {\n        this.$message.error(res.response.errorMsg)\n      })\n    },\n    handlePreview(presentable) {\n      this.$router.push({\n        path: `/node/${this.$route.params.nodeId}/presentable/detail`,\n        query: {presentableId: presentable.presentableId}\n      })\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/node/page-build/list/index.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-62045a12\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/less-loader/dist/cjs.js?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./index.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"7253c832\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-62045a12\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/less-loader/dist/cjs.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/node/page-build/list/index.vue\n// module id = oYWP\n// module chunks = 7","<template>\n  <div class=\"table-view-wrapper\" v-loading.body=\"loading\">\n    <el-table\n      class=\"table\"\n      :data=\"tableData\"\n      stripe\n      border>\n      <slot></slot>\n    </el-table>\n    <el-pagination\n      v-show=\"showPagination\"\n      class=\"pagination\"\n      @size-change=\"handleSizeChange\"\n      @current-change=\"handleCurrentChange\"\n      :background=\"true\"\n      :current-page=\"pageMeta.page\"\n      :page-sizes=\"[10, 20, 30, 50]\"\n      :page-size=\"pageMeta.pageSize\"\n      layout=\"total, sizes, prev, pager, next, jumper\"\n      :total=\"total\">\n    </el-pagination>\n  </div>\n</template>\n\n<script>\n  import TableView from './index'\n  export default TableView\n</script>\n\n<style lang=\"less\" scoped>\n.table-view-wrapper {\n  .table {\n    max-height: 100%;\n  }\n\n  .pagination {\n    margin-top: 15px;\n    text-align: center;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/TableView/index.vue","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-62045a12\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-62045a12\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-62045a12\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/node/page-build/list/index.vue\n// module id = rbfI\n// module chunks = 7"],"sourceRoot":""}