webpackJsonp([10],{FpZW:function(e,t,i){var n=i("pKrq");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);i("rjj0")("4b99671e",n,!0,{})},WJxV:function(e,t,i){"use strict";var n=i("jWBi");t.a=n.a},jWBi:function(e,t,i){"use strict";var n=i("//Fk"),a=i.n(n),s={show:1,hide:2};t.a={name:"node-page-build-list",data:function(){return{pagebuildList:[],PAGE_BUILD_STATUS:s,currentIndex:1}},mounted:function(){var t=this;this.loader().then(this.format.bind(this)).then(function(e){t.pagebuildList=e.map(function(e,t){return e.index=t,e}),console.log(t.pagebuildList)})},methods:{loader:function(){var n=this,e={nodeId:this.$route.params.nodeId};return this.$services.pagebuild.get({params:e}).then(function(e){var t=e.getData(),i=[];return t.forEach(function(t){var e=n.$services.resource.get(t.resourceId).then(function(e){return t.resourceDetail=e.getData(),t.resourceDetail.previewImages.length?t.resourceDetail._previewImage=t.resourceDetail.previewImages[0]:t.resourceDetail._previewImage="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1527660657079&di=44f93c3efc9bf6e81a4996ae1e10b886&imgtype=0&src=http%3A%2F%2Fgb.cri.cn%2Fmmsource%2Fimages%2F2014%2F04%2F08%2F90%2F13642159619414055870.jpg",e});i.push(e)}),a.a.all(i).then(function(e){return t})})},format:function(e){return e.forEach(function(e){e.statusInfo=e.status===s.show?{desc:"默认展示",type:"success"}:{desc:"不展示",type:"info"}}),e},updateStatus:function(){this.pagebuildList.forEach(function(e){e.status=s.hide})},setDefaultPageBuildHandler:function(e,t){t=t||s.show;var i={nodeId:parseInt(this.$route.params.nodeId),status:t};this.changePageBuildShowStatus(e,i)},changePageBuildShowStatus:function(t,i){var n=this;this.$services.pagebuild.put(t.id,i).then(function(e){if(0!==e.data.errcode)throw new Error(e.data.msg);i.status===s.show&&n.updateStatus(),t.status=i.status,n.format(n.pagebuildList),n.$message.success("设置成功")}).catch(this.$error.showErrorMessage)},handlePreview:function(e){this.$router.push({path:"/node/"+this.$route.params.nodeId+"/presentable/detail",query:{presentableId:e.presentableId,ispb:!0}})},changePageBuildHandler:function(e){this.currentIndex=e.index}}}},pKrq:function(e,t,i){(e.exports=i("FZ+f")(!0)).push([e.i,'.pb-list-container[data-v-6e880212]{color:#333;padding:50px 25px}.pb-list-container .nav-title[data-v-6e880212]{font-size:18px;margin-bottom:30px;font-weight:600}.pb-list-container .pb-list[data-v-6e880212]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;padding:0 40px}.pb-list-container .pb-list .pb-item[data-v-6e880212]{-ms-flex-preferred-size:50%;flex-basis:50%;padding:20px;-webkit-box-sizing:border-box;box-sizing:border-box;position:relative}.pb-list-container .pb-list .pb-item.selected .pb-desc i[data-v-6e880212]{display:block}.pb-list-container .pb-list .pb-item.selected .pb-item-wrap[data-v-6e880212]{border:5px solid #9bcb39;border-radius:4px}.pb-list-container .pb-list .pb-item-wrap[data-v-6e880212]{border:2px solid #eee;border-radius:6px;background-color:#fff;cursor:pointer;-webkit-transition:all .3s;transition:all .3s}.pb-list-container .pb-list .pb-item-wrap[data-v-6e880212]:hover{border:5px solid #9bcb39;border-radius:4px}.pb-list-container .pb-list .pb-thumbnail-wrap[data-v-6e880212]{width:100%;position:relative}.pb-list-container .pb-list .pb-thumbnail-wrap[data-v-6e880212]:after{content:" ";display:inline-block;padding-top:66.67%}.pb-list-container .pb-list .pb-thumbnail-wrap img[data-v-6e880212]{position:absolute;top:0;left:0;width:100%;height:100%}.pb-list-container .pb-list .pb-item-content[data-v-6e880212]{padding:14px 23px;border-top:1px solid #ccc}.pb-list-container .pb-list .pb-item-content .pb-title[data-v-6e880212]{font-size:13px;margin-bottom:12px}.pb-list-container .pb-list .pb-desc[data-v-6e880212]{height:40px}.pb-list-container .pb-list .pb-desc p[data-v-6e880212]{-webkit-line-clamp:2;overflow:hidden;text-overflow:ellipsis;word-break:break-all;display:-webkit-box;-webkit-box-orient:vertical}.pb-list-container .pb-list .pb-desc .el-icon-circle-check-outline[data-v-6e880212]{float:right;font-size:40px;color:#9bcb39;padding-left:30px;display:none}',"",{version:3,sources:["/Users/daizecheng/workplace/freelog/console.freelog.com/client/src/views/node/page-build/list/index.vue"],names:[],mappings:"AACA,oCACE,WAAe,AACf,iBAAmB,CACpB,AACD,+CACE,eAAgB,AAChB,mBAAoB,AACpB,eAAiB,CAClB,AACD,6CACE,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,mBAAoB,AAChB,eAAgB,AACpB,cAAgB,CACjB,AACD,sDACE,4BAA6B,AACzB,eAAgB,AACpB,aAAc,AACd,8BAA+B,AACvB,sBAAuB,AAC/B,iBAAmB,CACpB,AACD,0EACE,aAAe,CAChB,AACD,6EACE,yBAA0B,AAC1B,iBAAmB,CACpB,AACD,2DACE,sBAA0B,AAC1B,kBAAmB,AACnB,sBAA0B,AAC1B,eAAgB,AAChB,2BAA4B,AAC5B,kBAAoB,CACrB,AACD,iEACE,yBAA0B,AAC1B,iBAAmB,CACpB,AACD,gEACE,WAAY,AACZ,iBAAmB,CACpB,AACD,sEACE,YAAa,AACb,qBAAsB,AACtB,kBAAoB,CACrB,AACD,oEACE,kBAAmB,AACnB,MAAO,AACP,OAAQ,AACR,WAAY,AACZ,WAAa,CACd,AACD,8DACE,kBAAmB,AACnB,yBAA8B,CAC/B,AACD,wEACE,eAAgB,AAChB,kBAAoB,CACrB,AACD,sDACE,WAAa,CACd,AACD,wDACE,qBAAsB,AACtB,gBAAiB,AACjB,uBAAwB,AACxB,qBAAsB,AACtB,oBAAqB,AACrB,2BAA6B,CAC9B,AACD,oFACE,YAAa,AACb,eAAgB,AAChB,cAAe,AACf,kBAAmB,AACnB,YAAc,CACf",file:"index.vue",sourcesContent:["\n.pb-list-container[data-v-6e880212] {\n  color: #333333;\n  padding: 50px 25px;\n}\n.pb-list-container .nav-title[data-v-6e880212] {\n  font-size: 18px;\n  margin-bottom: 30px;\n  font-weight: 600;\n}\n.pb-list-container .pb-list[data-v-6e880212] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n  padding: 0 40px;\n}\n.pb-list-container .pb-list .pb-item[data-v-6e880212] {\n  -ms-flex-preferred-size: 50%;\n      flex-basis: 50%;\n  padding: 20px;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  position: relative;\n}\n.pb-list-container .pb-list .pb-item.selected .pb-desc i[data-v-6e880212] {\n  display: block;\n}\n.pb-list-container .pb-list .pb-item.selected .pb-item-wrap[data-v-6e880212] {\n  border: 5px solid #9BCB39;\n  border-radius: 4px;\n}\n.pb-list-container .pb-list .pb-item-wrap[data-v-6e880212] {\n  border: 2px solid #eeeeee;\n  border-radius: 6px;\n  background-color: #FFFFFF;\n  cursor: pointer;\n  -webkit-transition: all .3s;\n  transition: all .3s;\n}\n.pb-list-container .pb-list .pb-item-wrap[data-v-6e880212]:hover {\n  border: 5px solid #9BCB39;\n  border-radius: 4px;\n}\n.pb-list-container .pb-list .pb-thumbnail-wrap[data-v-6e880212] {\n  width: 100%;\n  position: relative;\n}\n.pb-list-container .pb-list .pb-thumbnail-wrap[data-v-6e880212]:after {\n  content: ' ';\n  display: inline-block;\n  padding-top: 66.67%;\n}\n.pb-list-container .pb-list .pb-thumbnail-wrap img[data-v-6e880212] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n.pb-list-container .pb-list .pb-item-content[data-v-6e880212] {\n  padding: 14px 23px;\n  border-top: 1px solid #CCCCCC;\n}\n.pb-list-container .pb-list .pb-item-content .pb-title[data-v-6e880212] {\n  font-size: 13px;\n  margin-bottom: 12px;\n}\n.pb-list-container .pb-list .pb-desc[data-v-6e880212] {\n  height: 40px;\n}\n.pb-list-container .pb-list .pb-desc p[data-v-6e880212] {\n  -webkit-line-clamp: 2;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  word-break: break-all;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n}\n.pb-list-container .pb-list .pb-desc .el-icon-circle-check-outline[data-v-6e880212] {\n  float: right;\n  font-size: 40px;\n  color: #9BCB39;\n  padding-left: 30px;\n  display: none;\n}\n"],sourceRoot:""}])},rbfI:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("WJxV"),a=i("sziD"),s=i("XyMi");var r=function(e){i("FpZW")},o=Object(s.a)(n.a,a.a,a.b,!1,r,"data-v-6e880212",null);t.default=o.exports},sziD:function(e,t,i){"use strict";i.d(t,"a",function(){return n}),i.d(t,"b",function(){return a});var n=function(){var i=this,e=i.$createElement,n=i._self._c||e;return n("section",{staticClass:"pb-list-container"},[n("header",{staticClass:"nav-title"},[i._v("节点样式")]),i._v(" "),n("ul",{staticClass:"pb-list"},i._l(i.pagebuildList,function(t){return n("li",{staticClass:"pb-item",class:{selected:t.index===i.currentIndex}},[n("div",{staticClass:"pb-item-wrap",on:{click:function(e){i.changePageBuildHandler(t)}}},[n("div",{staticClass:"pb-thumbnail-wrap"},[n("img",{attrs:{src:t.resourceDetail._previewImage,alt:""}})]),i._v(" "),n("div",{staticClass:"pb-item-content"},[n("h4",{staticClass:"pb-title"},[i._v(i._s(t.presentableName))]),i._v(" "),n("div",{staticClass:"pb-desc"},[n("i",{staticClass:"el-icon-circle-check-outline"}),i._v(" "),n("p",{domProps:{innerHTML:i._s(t.resourceDetail.intro)}})])])])])}))])},a=[]}});