webpackJsonp([7],{"1G+u":function(e,t,a){"use strict";function n(e){a("m3p9")}var r=a("rQCC"),s=a("DIaC"),i=a("VU/8"),o=n,l=i(r.a,s.a,!1,o,"data-v-e5b26b8a",null);t.a=l.exports},"9bID":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("table-view",{staticClass:"resource-list",attrs:{loader:e.loader(),showPagination:!1}},[a("el-table-column",{attrs:{prop:"resourceDetail.resourceName",label:"resourceName"}}),e._v(" "),a("el-table-column",{attrs:{label:"status"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(1==t.row.status?"显示":"隐藏")+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"resourceId",label:"resourceId"}}),e._v(" "),a("el-table-column",{attrs:{label:"resourceUrl"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{attrs:{href:t.row.resourceDetail.resourceUrl,target:"_blank"}},[e._v("资源链接")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){e.handlePreview(t.row)}}},[e._v("查看详情")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:2==t.row.status,expression:"scope.row.status==2"}],attrs:{size:"small"},on:{click:function(a){e.setDefaultPageBuildHandler(t.row)}}},[e._v("设为默认显示")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:1==t.row.status,expression:"scope.row.status==1"}],attrs:{size:"small"},on:{click:function(a){e.setDefaultPageBuildHandler(t.row,2)}}},[e._v("设为隐藏")])]}}])})],1)],1)},r=[],s={render:n,staticRenderFns:r};t.a=s},DIaC:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading.body",value:e.loading,expression:"loading",modifiers:{body:!0}}],staticClass:"table-view-wrapper"},[a("el-table",{staticClass:"table",attrs:{data:e.tableData,stripe:"",border:""}},[e._t("default")],2),e._v(" "),a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.showPagination,expression:"showPagination"}],staticClass:"pagination",attrs:{"current-page":e.pageMeta.page,"page-sizes":[10,20,30,50],"page-size":e.pageMeta.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},r=[],s={render:n,staticRenderFns:r};t.a=s},KT5e:function(e,t,a){t=e.exports=a("FZ+f")(!0),t.push([e.i,".table-view-wrapper .table[data-v-e5b26b8a]{max-height:100%}.table-view-wrapper .pagination[data-v-e5b26b8a]{margin-top:15px;text-align:center}","",{version:3,sources:["/Users/daizecheng/workplace/freelog/console/client/src/components/TableView/index.vue"],names:[],mappings:"AACA,4CACE,eAAiB,CAClB,AACD,iDACE,gBAAiB,AACjB,iBAAmB,CACpB",file:"index.vue",sourcesContent:["\n.table-view-wrapper .table[data-v-e5b26b8a] {\n  max-height: 100%;\n}\n.table-view-wrapper .pagination[data-v-e5b26b8a] {\n  margin-top: 15px;\n  text-align: center;\n}\n"],sourceRoot:""}])},PG49:function(e,t,a){"use strict";var n=a("woOf"),r=a.n(n);t.a={name:"table-view",data:function(){return{loading:!1,tableData:[],total:0}},props:{data:{type:Array,default:function(){return[]}},showPagination:{type:Boolean,default:!0},paginationOptions:{type:Object,default:function(){return{pageSizes:[10,20,30,50]}}},loader:Function,pageMeta:{type:Object,default:function(){return{pageSize:10,page:1}}}},mounted:function(){this.tableData=this.data,this.total=this.tableData.length,this.load()},methods:{load:function(e){var t=this;r()(this.pageMeta,e||{}),this.loader&&(this.loading=!0,this.loader(this.pageMeta).then(function(e){var a=e.data;t.loading=!1,0===a.ret?(a=a.data,t.tableData=a.dataList||a,a.dataList&&(t.total=a.totalItem,t.pageMeta.page=a.page||1)):t.$message.error(a.msg)}).catch(function(e){t.$message.warning("加载失败"),t.loading=!1}))},handleSizeChange:function(e){var t={pageSize:e};this.load(t),this.$emit("sizeChange",t)},handleCurrentChange:function(e){var t={page:e};this.load(t),this.$emit("pageChange",t)}}}},WJxV:function(e,t,a){"use strict";var n=a("jWBi");t.a=n.a},"ZN+f":function(e,t,a){t=e.exports=a("FZ+f")(!0),t.push([e.i,".resource-list[data-v-087d890f]{width:100%;min-height:600px}","",{version:3,sources:["/Users/daizecheng/workplace/freelog/console/client/src/views/node/page-build/list/index.vue"],names:[],mappings:"AACA,gCACE,WAAY,AACZ,gBAAkB,CACnB",file:"index.vue",sourcesContent:["\n.resource-list[data-v-087d890f] {\n  width: 100%;\n  min-height: 600px;\n}\n"],sourceRoot:""}])},"dMA/":function(e,t,a){var n=a("ZN+f");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("792418f4",n,!0)},jWBi:function(e,t,a){"use strict";var n=a("//Fk"),r=a.n(n),s=a("1G+u");t.a={name:"node-page-build-list",data:function(){return{resourceList:[]}},components:{TableView:s.a},mounted:function(){},methods:{loader:function(){var e=this,t=this;return function(){var a={nodeId:e.$route.params.nodeId};return e.$services.pagebuild.get({params:a}).then(function(e){var a=e.getData(),n=[];return a.forEach(function(e){var a=t.$services.resource.get(e.resourceId).then(function(t){return e.resourceDetail=t.getData(),t});n.push(a)}),r.a.all(n).then(function(t){return e})})}},setDefaultPageBuildHandler:function(e,t){var a=this;t=t||1,this.$services.pagebuild.put(e.id,{nodeId:parseInt(this.$route.params.nodeId),status:t}).then(function(n){0===n.data.errcode?(e.status=t,a.$message.success("设置成功")):a.$message.error(n.data.msg)}).catch(function(e){a.$message.error(e.response.errorMsg)})},handlePreview:function(e){this.$router.push({path:"/node/"+this.$route.params.nodeId+"/resource/detail",query:{presentableId:e.presentableId}})}}}},m3p9:function(e,t,a){var n=a("KT5e");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("8552b2e2",n,!0)},rQCC:function(e,t,a){"use strict";var n=a("PG49");t.a=n.a},rbfI:function(e,t,a){"use strict";function n(e){a("dMA/")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("WJxV"),s=a("9bID"),i=a("VU/8"),o=n,l=i(r.a,s.a,!1,o,"data-v-087d890f",null);t.default=l.exports}});
//# sourceMappingURL=7.b0b87fc2bf8bbaa7a6bb.js.map