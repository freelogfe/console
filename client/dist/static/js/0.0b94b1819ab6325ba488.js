webpackJsonp([0],{"+ZtF":function(e,t,n){"use strict";var a=n("lwdD"),o=n("NpxG"),r=n.n(o),s=n("VU/8")(a.a,r.a,!1,null,null,null);t.a=s.exports},"+e2Y":function(e,t,n){"use strict";var a=n("lnju");t.a=a.a},"1G+u":function(e,t,n){"use strict";var a=n("rQCC"),o=n("5b3W"),r=n.n(o);var s=function(e){n("OMds")},i=n("VU/8")(a.a,r.a,!1,s,"data-v-361849fa",null);t.a=i.exports},"1K/3":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("iVRo"),o=n("mlRV"),r=n.n(o);var s=function(e){n("waFc")},i=n("VU/8")(a.a,r.a,!1,s,"data-v-64eb2a75",null);t.default=i.exports},"5b3W":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading.body",value:e.loading,expression:"loading",modifiers:{body:!0}}],staticClass:"table-view-wrapper"},[n("el-table",{staticClass:"table",attrs:{data:e.tableData,stripe:"",border:""}},[e._t("default")],2),e._v(" "),n("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.showPagination,expression:"showPagination"}],staticClass:"pagination",attrs:{background:!0,"current-page":e.pageMeta.page,"page-sizes":[10,20,30,50],"page-size":e.pageMeta.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},staticRenderFns:[]}},"6vTw":function(e,t){e.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"node-form-container"},[n("el-form",{ref:"detail",staticClass:"small-el-form",attrs:{"label-position":"right","label-width":"100px",model:t.detail,rules:t.rules}},[n("el-form-item",{staticClass:"flex-grid",attrs:{label:"节点名称",prop:"nodeName"}},[t._v("\n      "+t._s(t.detail.nodeName)+"\n    ")]),t._v(" "),n("el-form-item",{attrs:{label:"节点域名"}},[t._v("\n      "+t._s(t.detail.nodeDomain)+".freelog.com\n    ")]),t._v(" "),n("el-form-item",{attrs:{label:"节点ID"}},[t._v("\n      "+t._s(t.detail.nodeId)+"\n    ")]),t._v(" "),t.detail.statusInfo?n("el-form-item",{attrs:{label:"节点状态"}},[n("el-tag",{attrs:{type:t.detail.statusInfo.type}},[t._v(t._s(t.detail.statusInfo.text))])],1):t._e(),t._v(" "),n("el-form-item",{attrs:{label:"创建时间"}},[t._v("\n      "+t._s(t._f("fmtDate")(t.detail.createDate))+"\n    ")]),t._v(" "),n("el-form-item",{staticClass:"btns"},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.updateNodeDetail("detail")}}},[t._v("保存")]),t._v(" "),n("el-button",{on:{click:function(e){t.backToList()}}},[t._v("返回")])],1)],1)],1)},staticRenderFns:[]}},"7n8P":function(e,t,n){(e.exports=n("FZ+f")(!0)).push([e.i,".widget-version[data-v-1b5444f0]{background-color:#e77334;color:#fff;padding:0 5px;border-radius:3px;border:1px solid #cc5819;-webkit-box-shadow:0 2px 12px 0 rgba(0,0,0,.1);box-shadow:0 2px 12px 0 rgba(0,0,0,.1);display:inline-block}.query-input[data-v-1b5444f0]{margin-bottom:15px;width:50%}.resource-list[data-v-1b5444f0]{width:100%;min-height:600px}","",{version:3,sources:["/Users/daizecheng/workplace/freelog/console.freelog.com/client/src/views/node/resource/list/index.vue"],names:[],mappings:"AACA,iCACE,yBAA0B,AAC1B,WAAa,AACb,cAAe,AACf,kBAAmB,AACnB,yBAA0B,AAC1B,+CAAoD,AAC5C,uCAA4C,AACpD,oBAAsB,CACvB,AACD,8BACE,mBAAoB,AACpB,SAAW,CACZ,AACD,gCACE,WAAY,AACZ,gBAAkB,CACnB",file:"index.vue",sourcesContent:["\n.widget-version[data-v-1b5444f0] {\n  background-color: #e77334;\n  color: white;\n  padding: 0 5px;\n  border-radius: 3px;\n  border: 1px solid #cc5819;\n  -webkit-box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n          box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n  display: inline-block;\n}\n.query-input[data-v-1b5444f0] {\n  margin-bottom: 15px;\n  width: 50%;\n}\n.resource-list[data-v-1b5444f0] {\n  width: 100%;\n  min-height: 600px;\n}\n"],sourceRoot:""}])},"8QXu":function(e,t,n){var a=n("b/ak");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("6aa4db2a",a,!0,{})},"8bFr":function(e,t,n){"use strict";var a=n("HvpH");t.a=a.a},"98rM":function(e,t,n){var a=n("kP1U");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("2e689cfa",a,!0,{})},E8q1:function(e,t,n){var a=n("c9no");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("4208e261",a,!0,{})},EiYx:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("8bFr"),o=n("QjGg"),r=n.n(o);var s=function(e){n("H0cP")},i=n("VU/8")(a.a,r.a,!1,s,"data-v-2b87c77f",null);t.default=i.exports},H0cP:function(e,t,n){var a=n("byPi");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("2cfd2de2",a,!0,{})},HC2d:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("ZHmU"),o=n("KBzA"),r=n.n(o);var s=function(e){n("u/T2")},i=n("VU/8")(a.a,r.a,!1,s,"data-v-212b09ea",null);t.default=i.exports},HvpH:function(e,t,n){"use strict";var a=n("1G+u"),o=n("xovf"),r=n("NYxO");t.a={name:"node-login",data:function(){return{resourceList:[],NODE_STATUS:[{text:"正常",type:"success"},{text:"未审核",type:"warning"},{text:"冻结",type:"danger"}]}},components:{TableView:a.a,ClipBoard:o.a},computed:Object(r.b)({session:"session",nodeSession:"nodeSession"}),mounted:function(){this.nodeSession.nodeName&&this.gotoNodeHandler(this.nodeSession)},methods:{loader:function(){var e=this,t=this;return function(){return e.$services.nodes.get({params:{ownerUserId:t.session.user.userId}})}},gotoNodeHandler:function(e){var t,n=this,a=this.$route.query.redirect;t=a?a.replace(":nodeId",e.nodeId):"/node/"+e.nodeId,this.$store.dispatch("changeNode",e).then(function(){n.$router.push({path:t})})}}}},JAMV:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n("woOf"),o=n.n(a),r={nodeName:[{required:!0,message:"节点描述不能为空",trigger:"blur"},{min:4,max:20,message:"节点描述长度应为4-20字符，不区分大小写",trigger:"blur"}],nodeDomain:[{validator:function(e,t,n){t?t.length<4||20<t.length?n(new Error("节点域名前缀长度应为4-20字符")):/^[a-zA-Z\d\-]+$/.test(t)?n():n(new Error('节点域名前缀应由数字字母和"-"组成')):n(new Error("节点域名前缀不能为空"))},trigger:"blur"}]},s=r;t.b={name:"node-creator",data:function(){return{dataForm:{nodeName:"",nodeDomain:""},formRules:r}},mounted:function(){},methods:{goBackHandler:function(){history.back()},createNode:function(){var t=this,n=this,e=o()({},n.dataForm);e.nodeDomain=e.nodeDomain.toLowerCase(),n.$services.nodes.post(n.dataForm).then(function(e){0!==e.data.errcode?t.$message.error(e.data.msg):(n.$message.success("节点创建成功"),setTimeout(function(){n.$router.push({path:"/node/list"})},1e3))}).catch(this.$error.showErrorMessage)},comfirm:function(){return this.$confirm("节点名称和域名一旦创建后不可更改，确定继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.comfirm().then(function(){t.createNode()}).catch(function(){})})}}}},KBzA:function(e,t){e.exports={render:function(){var n=this,e=n.$createElement,a=n._self._c||e;return a("section",[a("div",{staticClass:"node-top-sec"},[a("router-link",{staticClass:"route-link",attrs:{to:"/node/create"}},[a("el-button",{attrs:{type:"primary"}},[n._v("创建新节点")])],1)],1),n._v(" "),a("table-view",{staticClass:"node-list",attrs:{loader:n.loader()}},[a("el-table-column",{attrs:{prop:"nodeName",label:"节点名"}}),n._v(" "),a("el-table-column",{attrs:{label:"节点地址"},scopedSlots:n._u([{key:"default",fn:function(e){return[n._v("\n        "+n._s(n.resolveDomain(e.row))+"\n        "),a("clip-board",{staticStyle:{display:"inline-block"},attrs:{value:n.resolveDomain(e.row)},on:{copyDone:n.copyDoneHandler}},[a("a",{attrs:{href:"javascript:;"}},[a("i",{staticClass:"el-icon-fa-clipboard"})])])]}}])}),n._v(" "),a("el-table-column",{attrs:{prop:"nodeId",label:"节点ID"}}),n._v(" "),a("el-table-column",{attrs:{label:"节点状态"},scopedSlots:n._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:n.NODE_STATUS[e.row.status].type}},[n._v(n._s(n.NODE_STATUS[e.row.status].text))])]}}])}),n._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:n._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small"},on:{click:function(e){n.gotoNodeHandler(t.row)}}},[n._v("进入节点\n        ")]),n._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(e){n.handleEdit(t.row)}}},[n._v("详情\n        ")])]}}])})],1)],1)},staticRenderFns:[]}},KPz5:function(e,t){e.exports={render:function(){var n=this,e=n.$createElement,a=n._self._c||e;return a("section",[a("el-input",{staticClass:"query-input",attrs:{placeholder:"请输入搜索内容"},nativeOn:{keyup:function(e){if(!("button"in e)&&n._k(e.keyCode,"enter",13,e.key))return null;n.queryHandler(e)},keydown:function(e){n.autoQueryHandler(e)}},model:{value:n.query,callback:function(e){n.query=e},expression:"query"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search",type:"primary"},on:{click:n.queryHandler},slot:"append"})],1),n._v(" "),a("table-view",{ref:"resourceList",staticClass:"resource-list",attrs:{loader:n.loader()}},[a("el-table-column",{attrs:{label:"资源名称"},scopedSlots:n._u([{key:"default",fn:function(e){return[n._v("\n        "+n._s(e.row.resourceName)+"\n        "),e.row.systemMeta.version?a("span",{staticClass:"widget-version"},[n._v("v "+n._s(e.row.systemMeta.version))]):n._e()]}}])}),n._v(" "),a("el-table-column",{attrs:{prop:"resourceType",align:"center",label:"资源类型"}}),n._v(" "),a("el-table-column",{attrs:{prop:"resourceId",label:"资源ID",align:"center",width:"350px"}}),n._v(" "),a("el-table-column",{attrs:{align:"center",width:"150px",label:"创建日期"},scopedSlots:n._u([{key:"default",fn:function(e){return[n._v("\n        "+n._s(n._f("fmtDate")(e.row.createDate))+"\n      ")]}}])}),n._v(" "),a("el-table-column",{attrs:{align:"center"},scopedSlots:n._u([{key:"default",fn:function(t){return[a("el-dropdown",{attrs:{size:"small","split-button":"",type:"primary"},on:{command:n.handleCommand,click:function(e){n.viewSrcDetail(t.row)}}},[n._v("\n          查看详情\n          "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:{fn:"handleContact",data:t.row}}},[n._v("创建presentable")])],1)],1)]}}])})],1)],1)},staticRenderFns:[]}},"Kc0/":function(e,t,n){"use strict";var a=n("NYxO"),o=n("+ZtF");n("aqfl");t.a={name:"resource-detail",data:function(){return{detail:{}}},components:{ResourceDetailInfo:o.a},computed:Object(a.b)({nodeSession:"nodeSession"}),mounted:function(){var t=this,e=this.$route.params.resourceId;e?this.load(e).then(this.format.bind(this)).then(function(e){t.detail=e}):this.$message.error("缺少参数resourceId")},methods:{format:function(e){return e.systemMeta.widgets&&e.systemMeta.widgets.forEach(function(e){e.detailUrl="/resources/detail/"+e.resourceId}),e},load:function(e){return this.$services.resource.get(e||{}).then(function(e){return e.getData()}).catch(this.$error.showErrorMessage)},bakcToList:function(){this.$router.push({path:"/resources/market"})},gotoCreateContract:function(e){var t={resourceName:e.resourceName,resourceType:e.resourceType,resourceId:e.resourceId},n=this.nodeSession.nodeId;this.$router.push({path:"/node/"+n+"/presentable/create",query:t})}}}},NpxG:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{staticClass:"small-el-form",attrs:{"label-position":"right","label-width":"100px"}},[n("el-form-item",{attrs:{label:"资源ID"}},[e._v("\n    "+e._s(e.data.resourceId)+"\n  ")]),e._v(" "),n("el-form-item",{attrs:{label:"资源名称"}},[e._v("\n    "+e._s(e.data.resourceName)+"\n  ")]),e._v(" "),n("el-form-item",{attrs:{label:"资源类型"}},[e._v("\n    "+e._s(e.data.resourceType)+"\n  ")]),e._v(" "),e.data.systemMeta&&e.data.systemMeta.version?n("el-form-item",{attrs:{label:"版本"}},[e._v("\n    "+e._s(e.data.systemMeta.version)+"\n  ")]):e._e(),e._v(" "),e.data.statusInfo?n("el-form-item",{attrs:{label:"资源状态"}},[n("el-tag",{attrs:{type:e.data.statusInfo.type}},[e._v(e._s(e.data.statusInfo.desc))])],1):e._e(),e._v(" "),e.data.authorInfo?n("el-form-item",{attrs:{label:"资源作者"}},[e._v("\n    "+e._s(e.data.authorInfo.nickname)+"\n  ")]):e._e(),e._v(" "),n("el-form-item",{attrs:{label:"创建时间"}},[e._v("\n    "+e._s(e._f("fmtDate")(e.data.createDate))+"\n  ")]),e._v(" "),e._t("default")],2)},staticRenderFns:[]}},OMds:function(e,t,n){var a=n("rUtK");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("743cdafe",a,!0,{})},PG49:function(e,t,n){"use strict";var a=n("woOf"),o=n.n(a),r=n("kEHT");t.a={name:"table-view",data:function(){return{loading:!1,tableData:[],total:0}},props:{data:{type:Array,default:function(){return[]}},showPagination:{type:Boolean,default:!0},formatHandler:{type:Function,default:null},paginationOptions:{type:Object,default:function(){return{pageSizes:[10,20,30,50]}}},loader:Function,pageMeta:{type:Object,default:function(){var e=r.c.get("PAGE_"+this.$route.fullPath+"_index")||{};return o()({pageSize:10,page:1},e)}}},beforeDestroy:function(){this.pageMeta&&this.pageMeta.keyWords&&delete this.pageMeta.keyWords,r.c.set("PAGE_"+this.pageUrl+"_index",this.pageMeta)},mounted:function(){this.pageUrl=this.$route.fullPath,this.tableData=this.data,this.total=this.tableData.length,this.load(),this.$on("reload",this.reload.bind(this))},methods:{reload:function(e){this.load(e)},load:function(e){var a=this;o()(this.pageMeta,e||{}),this.loader&&(this.loading=!0,this.loader(this.pageMeta).then(function(e){var t=e.getData();if(a.loading=!1,t){var n=t.dataList||t;a.formatHandler&&(n=a.formatHandler(n)),a.tableData=n,t.dataList?(a.total=t.totalItem,a.pageMeta.page=t.page||1):a.total=n.length}else a.$message.error(t.msg)}).catch(function(e){a.$message.warning("加载失败"),a.loading=!1}))},handleSizeChange:function(e){var t={pageSize:e};this.load(t),this.$emit("sizeChange",t)},handleCurrentChange:function(e){var t={page:e};this.load(t),this.$emit("pageChange",t)}}}},Q5It:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("+e2Y"),o=n("6vTw"),r=n.n(o);var s=function(e){n("8QXu")},i=n("VU/8")(a.a,r.a,!1,s,"data-v-6cdd2950",null);t.default=i.exports},Q5Q2:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a=[{text:"正常",type:"success"},{text:"未审核",type:"warning"},{text:"冻结",type:"danger"}]},QjGg:function(e,t){e.exports={render:function(){var n=this,e=n.$createElement,a=n._self._c||e;return a("section",{staticClass:"node-login-container"},[a("el-alert",{staticStyle:{"margin-bottom":"15px"},attrs:{title:"请选择一个节点作为登录节点",type:"warning"}}),n._v(" "),a("table-view",{staticClass:"node-list",attrs:{loader:n.loader()}},[a("el-table-column",{attrs:{prop:"nodeName",label:"node name"}}),n._v(" "),a("el-table-column",{attrs:{prop:"nodeId",label:"node Id"}}),n._v(" "),a("el-table-column",{attrs:{label:"status"},scopedSlots:n._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:n.NODE_STATUS[e.row.status].type}},[n._v(n._s(n.NODE_STATUS[e.row.status].text))])]}}])}),n._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:n._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small"},on:{click:function(e){n.gotoNodeHandler(t.row)}}},[n._v("进入该节点\n        ")])]}}])})],1)],1)},staticRenderFns:[]}},RR1L:function(e,t,n){var a=n("7n8P");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("379fdf6c",a,!0,{})},TKE0:function(e,t,n){"use strict";t.a={name:"clip-board",data:function(){return{}},props:{value:String},mounted:function(){console.log(this.value)},methods:{copyHandler:function(){console.log("copy"),this.$refs.copyText.select();try{var e=document.execCommand("copy");this.$emit("copyDone",e)}catch(e){this.$emit("copyDone",!1)}}}}},U7i4:function(e,t,n){(e.exports=n("FZ+f")(!0)).push([e.i,".node-top-sec[data-v-212b09ea]{margin-bottom:15px}.route-link[data-v-212b09ea]{color:#fff}.node-list[data-v-212b09ea]{width:100%;min-height:600px}","",{version:3,sources:["/Users/daizecheng/workplace/freelog/console.freelog.com/client/src/views/node/my-nodes/index.vue"],names:[],mappings:"AACA,+BACE,kBAAoB,CACrB,AACD,6BACE,UAAa,CACd,AACD,4BACE,WAAY,AACZ,gBAAkB,CACnB",file:"index.vue",sourcesContent:["\n.node-top-sec[data-v-212b09ea] {\n  margin-bottom: 15px;\n}\n.route-link[data-v-212b09ea] {\n  color: white;\n}\n.node-list[data-v-212b09ea] {\n  width: 100%;\n  min-height: 600px;\n}\n"],sourceRoot:""}])},UbUd:function(e,t,n){"use strict";var a=n("JAMV");t.a=a.b},VaEZ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("w87b"),o=n("KPz5"),r=n.n(o);var s=function(e){n("RR1L")},i=n("VU/8")(a.a,r.a,!1,s,"data-v-1b5444f0",null);t.default=i.exports},YxDi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("UbUd"),o=n("pMUw"),r=n.n(o);var s=function(e){n("E8q1")},i=n("VU/8")(a.a,r.a,!1,s,"data-v-69f95636",null);t.default=i.exports},ZHmU:function(e,t,n){"use strict";var a=n("lyRy");t.a=a.a},aqfl:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"RESOURCE_TYPES",function(){return a}),n.d(t,"RESOURCE_STATUS",function(){return o});var a={widget:"widget",image:"image",audio:"audio",markdown:"markdown",pageBuild:"page_build",revealSlide:"reveal_slide",license:"license"},o=[{desc:"未知状态",type:"danger"},{desc:"未发布",type:"warning"},{desc:"已发布",type:"success"},{desc:"冻结",type:"danger"}]},"b/ak":function(e,t,n){(e.exports=n("FZ+f")(!0)).push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"index.vue",sourceRoot:""}])},byPi:function(e,t,n){(e.exports=n("FZ+f")(!0)).push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"index.vue",sourceRoot:""}])},c9no:function(e,t,n){(e.exports=n("FZ+f")(!0)).push([e.i,".node-form[data-v-69f95636]{width:600px;margin:auto}.node-form .node-domain-postfix[data-v-69f95636]{color:#333;font-size:16px}","",{version:3,sources:["/Users/daizecheng/workplace/freelog/console.freelog.com/client/src/views/node/create/index.vue"],names:[],mappings:"AACA,4BACE,YAAa,AACb,WAAa,CACd,AACD,iDACE,WAAe,AACf,cAAgB,CACjB",file:"index.vue",sourcesContent:["\n.node-form[data-v-69f95636] {\n  width: 600px;\n  margin: auto;\n}\n.node-form .node-domain-postfix[data-v-69f95636] {\n  color: #333333;\n  font-size: 16px;\n}\n"],sourceRoot:""}])},iVRo:function(e,t,n){"use strict";var a=n("Kc0/");t.a=a.a},kP1U:function(e,t,n){(e.exports=n("FZ+f")(!0)).push([e.i,".clip-text[data-v-eaf1796a]{width:0;height:0;opacity:0;font-size:0}","",{version:3,sources:["/Users/daizecheng/workplace/freelog/console.freelog.com/client/src/components/clipboard/index.vue"],names:[],mappings:"AACA,4BACE,QAAS,AACT,SAAU,AACV,UAAW,AACX,WAAa,CACd",file:"index.vue",sourcesContent:["\n.clip-text[data-v-eaf1796a] {\n  width: 0;\n  height: 0;\n  opacity: 0;\n  font-size: 0;\n}\n"],sourceRoot:""}])},lP4x:function(e,t,n){"use strict";var a=n("pFYg"),o=n.n(a),r=n("1G+u");t.a={name:"node-resource-list",data:function(){return{resourceList:[],query:""}},components:{TableView:r.a},mounted:function(){},methods:{handleCommand:function(e){this[e.fn]&&this[e.fn](e.data)},viewSrcDetail:function(e){this.$router.push({path:"/resources/detail/"+e.resourceId})},autoQueryHandler:function(){var e=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){e.queryHandler()},800)},queryHandler:function(){this.timer&&clearTimeout(this.timer),this.$refs.resourceList.$emit("reload",{keyWords:encodeURIComponent(this.query)})},loader:function(){var t=this;return function(e){return"object"===(void 0===e?"undefined":o()(e))&&(e.keyWords&&(t.query=e.keyWords),e={params:e}),t.$services.g_Resources.get(e||{})}},gotoCreateContract:function(e){var t={resourceName:e.resourceName,resourceType:e.resourceType,resourceId:e.resourceId};this.$router.push({path:"/node/:nodeId/presentable/create",query:t})},handleContact:function(e){switch(e.status){case 1:this.$message.warning("该资源还没创建policy，无法创建合同");break;case 2:this.gotoCreateContract(e);break;case 3:this.$message.warning("该资源已被冻结");break;default:this.$message.warning("未知资源状态")}}}}},lnju:function(e,t,n){"use strict";var a=n("JAMV"),o=n("Q5Q2");t.a={name:"node-detail",data:function(){return{detail:{},rules:{nodeName:a.a.nodeName}}},mounted:function(){var t=this,e=this.$route.params.nodeId;e?this.load(e).then(function(e){e.statusInfo=o.a[e.status],t.detail=e}):this.$message.error("缺少参数nodeId")},methods:{load:function(e){return this.$services.nodes.get(e||{}).then(function(e){return e.getData()}).catch(this.$error.showErrorMessage)},updateNodeDetail:function(e){var t=this;t.$refs[e].validate(function(e){if(!e)return console.error("error submit!!"),!1;t.$services.nodes.patch(t.detail.nodeId,t.detail).then(function(e){0===e.data.errcode?t.$message.success("节点修改成功"):t.$message.error(e.data.msg)}).catch(function(e){t.$message.error(e.response.errorMsg||e)})})},backToList:function(){this.$router.push({path:"/node/list"})}}}},lwdD:function(e,t,n){"use strict";var a=n("aqfl");t.a={name:"resource-detail-info",props:{data:{type:Object,default:function(){return{}}}},mounted:function(){this.format()},watch:{data:"format"},methods:{loadAuthorInfo:function(e){return this.$services.user.get(e).then(function(e){return e.getData()})},format:function(){var t=this,n=this.data;n.statusInfo=a.RESOURCE_STATUS[n.status],n.userId&&this.loadAuthorInfo(n.userId).then(function(e){t.$set(n,"authorInfo",e)})}}}},lyRy:function(e,t,n){"use strict";var a=n("1G+u"),o=n("xovf"),r=n("Q5Q2"),s=n("NYxO");t.a={name:"my-nodes",data:function(){return{resourceList:[],NODE_STATUS:r.a}},components:{TableView:a.a,ClipBoard:o.a},computed:Object(s.b)({session:"session"}),mounted:function(){},methods:{resolveDomain:function(e){return location.protocol+"//"+e.nodeDomain+".freelog.com"},loader:function(){var e=this,t=this;return function(){return e.$services.nodes.get({params:{ownerUserId:t.session.user.userId}})}},copyDoneHandler:function(){this.$message.success("已复制节点地址")},handleEdit:function(e){this.$router.push({path:"/node/detail/"+e.nodeId})},gotoNodeHandler:function(e){var t=this;this.$store.dispatch("changeNode",e).then(function(){t.$router.push({path:"/node/"+e.nodeId})})}}}},mlRV:function(e,t){e.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"resource-detail"},[n("resource-detail-info",{attrs:{data:t.detail}},[t.detail.systemMeta&&t.detail.systemMeta.widgets?n("el-form-item",{attrs:{label:"依赖widgets"}},t._l(t.detail.systemMeta.widgets,function(e){return n("a",{key:e.resourceId,staticClass:"link",attrs:{href:e.detailUrl,target:"_blank"}},[n("el-tag",[t._v(t._s(e.resourceId))])],1)})):t._e(),t._v(" "),n("el-form-item",{staticStyle:{"margin-top":"20px"}},[n("el-button",{on:{click:function(e){t.bakcToList()}}},[t._v("返回")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.gotoCreateContract(t.detail)}}},[t._v("去创建presentable")])],1)],1)],1)},staticRenderFns:[]}},pMUw:function(e,t){e.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"node-form-container"},[n("el-form",{ref:"dataForm",staticClass:"node-form",attrs:{model:t.dataForm,rules:t.formRules,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"节点名称",prop:"nodeName",required:""}},[n("el-input",{attrs:{placeholder:"长度为4-20字符"},model:{value:t.dataForm.nodeName,callback:function(e){t.$set(t.dataForm,"nodeName",e)},expression:"dataForm.nodeName"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"节点域名",prop:"nodeDomain",required:""}},[n("el-input",{attrs:{placeholder:"只能输入数字字母和-,长度为4-20字符"},model:{value:t.dataForm.nodeDomain,callback:function(e){t.$set(t.dataForm,"nodeDomain",e)},expression:"dataForm.nodeDomain"}},[n("template",{slot:"append"},[n("span",{staticClass:"node-domain-postfix"},[t._v(".freelog.com")])])],2)],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("dataForm")}}},[t._v("创建节点")]),t._v(" "),n("el-button",{on:{click:t.goBackHandler}},[t._v("取消")])],1)],1)],1)},staticRenderFns:[]}},rQCC:function(e,t,n){"use strict";var a=n("PG49");t.a=a.a},rUtK:function(e,t,n){(e.exports=n("FZ+f")(!0)).push([e.i,".table-view-wrapper .table[data-v-361849fa]{max-height:100%}.table-view-wrapper .pagination[data-v-361849fa]{margin-top:15px;text-align:center}","",{version:3,sources:["/Users/daizecheng/workplace/freelog/console.freelog.com/client/src/components/TableView/index.vue"],names:[],mappings:"AACA,4CACE,eAAiB,CAClB,AACD,iDACE,gBAAiB,AACjB,iBAAmB,CACpB",file:"index.vue",sourcesContent:["\n.table-view-wrapper .table[data-v-361849fa] {\n  max-height: 100%;\n}\n.table-view-wrapper .pagination[data-v-361849fa] {\n  margin-top: 15px;\n  text-align: center;\n}\n"],sourceRoot:""}])},"u/T2":function(e,t,n){var a=n("U7i4");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("4c587da2",a,!0,{})},uJeW:function(e,t,n){(e.exports=n("FZ+f")(!0)).push([e.i,".link[data-v-64eb2a75]{margin-right:9px}","",{version:3,sources:["/Users/daizecheng/workplace/freelog/console.freelog.com/client/src/views/node/resource/detail/index.vue"],names:[],mappings:"AACA,uBACE,gBAAkB,CACnB",file:"index.vue",sourcesContent:["\n.link[data-v-64eb2a75] {\n  margin-right: 9px;\n}\n"],sourceRoot:""}])},w87b:function(e,t,n){"use strict";var a=n("lP4x");t.a=a.a},waFc:function(e,t,n){var a=n("uJeW");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("5d41670f",a,!0,{})},"x3+w":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{on:{click:e.copyHandler}},[n("textarea",{ref:"copyText",staticClass:"clip-text",domProps:{value:e.value}}),e._v(" "),e._t("default")],2)},staticRenderFns:[]}},xovf:function(e,t,n){"use strict";var a=n("TKE0"),o=n("x3+w"),r=n.n(o);var s=function(e){n("98rM")},i=n("VU/8")(a.a,r.a,!1,s,"data-v-eaf1796a",null);t.a=i.exports}});